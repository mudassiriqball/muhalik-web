{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{yXNp:function(e,t,a){\"use strict\";a.r(t);var l=a(\"o0o1\"),s=a.n(l),i=a(\"1OyB\"),n=a(\"vuIU\"),r=a(\"JX7q\"),o=a(\"Ji7U\"),d=a(\"md7G\"),u=a(\"foSv\"),c=a(\"rePB\"),h=a(\"QojX\"),f=a(\"zUrK\"),m=a(\"cWnB\"),v=a(\"T/rR\"),p=a(\"JI6e\"),_=(a(\"IP2g\"),a(\"wHSu\")),g=a(\"twK/\"),b=a(\"q1tI\"),y=a.n(b),k=a(\"VbX6\"),w=a(\"bWZ2\"),F=a(\"vDqi\"),C=a.n(F),x=a(\"f6Jz\"),S=a(\"abLf\"),q=a(\"qTQu\"),M=a(\"/JS1\"),R=(a(\"vvUq\"),y.a.createElement);function D(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=Object(u.a)(e);if(t){var s=Object(u.a)(this).constructor;a=Reflect.construct(l,arguments,s)}else a=l.apply(this,arguments);return Object(d.a)(this,a)}}var z=[],P=function(e){Object(o.a)(a,e);var t=D(a);function a(e){var l;return Object(i.a)(this,a),l=t.call(this,e),Object(c.a)(Object(r.a)(l),\"handleFieldRequestChange\",(function(e,t){var a=[];(a=Object.assign([],l.state.field_requests_list))[t].value=e.target.value,\"\"!=e.target.value&&e.target.value.length<=20&&e.target.value.length>=3?a[t].error=\"\":a[t].error=\"Value must be 3-20 characters\",l.setState({field_requests_list:a})})),Object(c.a)(Object(r.a)(l),\"handleFieldChange\",(function(e,t){var a=[];(a=Object.assign([],l.state.fields_list))[t].value=e.target.value,\"\"!=e.target.value&&e.target.value.length<=20&&e.target.value.length>=3?a[t].error=\"\":a[t].error=\"Value must be 3-20 characters\",l.setState({fields_list:a})})),l.state={token:\"\",isLoading:!1,showToast:!1,showConfirmDeleteModal:!1,isFieldDelete:\"\",delete_field_id:\"\",delete_field_name:\"\",delete_field_index:\"\",fieldValue:\"\",error:\"\",fields_list:[],field_requests_list:[],editRequestedField:\"\",showModalMessage:\"\",showModal:!1,filterStr:\"\"},l}return Object(n.a)(a,[{key:\"UNSAFE_componentWillReceiveProps\",value:function(e){this.setState({fields_list:e.fields_list,field_requests_list:e.field_requests_list,token:e.token})}},{key:\"addField\",value:function(e,t){var a,l;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=k.a.PATH+\"/api/categories/field\",[],l={label:e,value:e},i.next=5,s.a.awrap(C.a.post(a,{data:l},{headers:{authorization:this.state.token}}).then((function(e){t.setState({isLoading:!1}),t.setState({showModalMessage:\"Product Field Added Successfully\"}),t.setState({showModal:!0})})).catch((function(e){t.setState({isLoading:!1}),alert(\"Error: \",e.response.data.message)})));case 5:case\"end\":return i.stop()}}),null,this,null,Promise)}},{key:\"handleFilterStrChange\",value:function(e){if(this.setState({filterStr:e.target.value}),\"\"==e.target.value)this.setState({fields_list:z});else{var t=[];this.state.fields_list.filter((function(a){a.value.toLowerCase().includes(e.target.value.toLowerCase())&&t.push(a)})),this.setState({fields_list:t})}}},{key:\"handleSubmit\",value:function(){\"\"==this.state.fieldValue?this.setState({error:\"Enter Value First\"}):(this.setState({isLoading:!0}),this.setState({error:\"\"}),this.addField(this.state.fieldValue,this))}},{key:\"handleEditFieldRequestClick\",value:function(e){var t,a;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=[],t=Object.assign([],this.state.field_requests_list),(a={}).value=t[e].value,a.entry_date=t[e].entry_date,a.label=!1,a.prevVal=t[e].value,a.error=\"\",t[e]=a,l.next=11,s.a.awrap(this.setState({field_requests_list:t}));case 11:case\"end\":return l.stop()}}),null,this,null,Promise)}},{key:\"handleCancelFieldRequestClick\",value:function(e){var t=[];(t=Object.assign([],this.state.field_requests_list))[e].value=t[e].prevVal,t[e].label=!0,t[e].error=\"\",this.setState({field_requests_list:t})}},{key:\"handleUpdateFieldRequestClick\",value:function(e){var t=[];(t=Object.assign([],this.state.field_requests_list))[e].value==t[e].prevVal?(t[e].error=\"Enter Different Value\",this.setState({field_requests_list:t})):(this.setState({field_requests_list:t,showModalMessage:\"Product Field Updated Successfully\",showModal:!0}),z=t)}},{key:\"handleAddFieldRequestClick\",value:function(e){var t,a,l,i;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=k.a.PATH+\"/api/categories/field\",a=[],a=Object.assign([],this.state.field_requests_list),l=this,[],i={label:a[e].value,value:a[e].value},console.log(\"data:\",i),n.next=9,s.a.awrap(C.a.post(t,{data:i},{headers:{authorization:this.state.token}}).then((function(t){a.splice(e,1),l.setState({field_requests_list:a,showModalMessage:\"Product Field Added Successfully\",showModal:!0})})).catch((function(e){try{alert(\"Error: \",e.response.data.message)}catch(t){alert(\"Add Field Failed \"),console.log(\"Request Failed:\",e)}})));case 9:case\"end\":return n.stop()}}),null,this,null,Promise)}},{key:\"handleDeleteFieldRequestClick\",value:function(){var e,t,a,l;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.state.delete_field_index,this.setState({showConfirmDeleteModal:!1}),t=[],a=this,t=Object.assign([],this.state.field_requests_list),l=k.a.PATH+\"/api/categories/field-request/\".concat(t[e]._id),i.next=8,s.a.awrap(C.a.delete(l,{headers:{authorization:this.state.token}}).then((function(l){t.splice(e,1),a.setState({field_requests_list:t,showModalMessage:\"Product Request Field Discarded\",showModal:!0}),z=t})).catch((function(e){try{alert(\"Error: \",e.response.data.message)}catch(t){alert(\"Delete Field Failed \"),console.log(\"Request Failed:\",e)}})));case 8:case\"end\":return i.stop()}}),null,this,null,Promise)}},{key:\"handleEditFieldClick\",value:function(e){var t,a;return s.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=[],t=Object.assign([],this.state.fields_list),(a={}).value=t[e].value,a.label=!1,a.prevVal=t[e].value,a.error=\"\",t[e]=a,l.next=10,s.a.awrap(this.setState({fields_list:t}));case 10:case\"end\":return l.stop()}}),null,this,null,Promise)}},{key:\"handleCancelFieldClick\",value:function(e){var t=[];(t=Object.assign([],this.state.fields_list))[e].value=t[e].prevVal,t[e].error=\"\",t[e].label=!0,this.setState({fields_list:t})}},{key:\"handleUpdateFieldClick\",value:function(e){var t,a,l,i;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=[],(t=Object.assign([],this.state.fields_list))[e].value!=t[e].prevVal){n.next=7;break}t[e].error=\"Enter Different Value\",this.setState({fields_list:t}),n.next=13;break;case 7:return a=this,[],l={value:t[e].value,label:t[e].value},i=k.a.PATH+\"/api/categories/field/\".concat(t[e]._id),n.next=13,s.a.awrap(C.a.put(i,{data:l},{headers:{authorization:this.state.token}}).then((function(l){t[e].label=t[e].value,t[e].prevVal=t[e].value,a.setState({fields_list:t,showModalMessage:\"Product Field Updated Successfully\",showModal:!0}),z=t})).catch((function(e){try{alert(\"Error: \",e.response.data.message)}catch(t){alert(\"Update field Failed\"),console.log(\"Request Failed:\",e)}})));case 13:case\"end\":return n.stop()}}),null,this,null,Promise)}},{key:\"handleDeleteFieldClick\",value:function(){var e,t,a,l;return s.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=this.state.delete_field_index,this.setState({showConfirmDeleteModal:!1}),t=[],a=this,t=Object.assign([],this.state.fields_list),l=k.a.PATH+\"/api/categories/field/\".concat(t[e]._id),i.next=8,s.a.awrap(C.a.delete(l,{headers:{authorization:this.state.token}}).then((function(l){t.splice(e,1),a.setState({fields_list:t,showModalMessage:\"Product Field Deleted\",showModal:!0}),z=t})).catch((function(e){try{alert(\"Error: \",e.response.data.message)}catch(t){console.log(\"Request Failed:\",e)}})));case 8:case\"end\":return i.stop()}}),null,this,null,Promise)}},{key:\"render\",value:function(){var e=this;return R(y.a.Fragment,null,R(x.default,{onHide:function(t){return e.setState({showModal:!1})},show:this.state.showModal,header:\"Success\",message:this.state.showModalMessage,iconname:g.b,color:\"#00b300\"}),R(S.default,{onHide:function(){return e.setState({showConfirmDeleteModal:!1})},show:this.state.showConfirmDeleteModal,title:\"Delete Add Field Request ?\",_id:this.state.delete_field_id,name:this.state.delete_field_name,confirm:this.state.isFieldDelete?this.handleDeleteFieldClick.bind(this):this.handleDeleteFieldRequestClick.bind(this)}),R(q.default,{icon:_.r,title:\" Admin Dashboard / Product Fields\"}),R(M.default,{title:\"Add New Field\"},R(h.a.Group,null,R(f.a,null,R(h.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Field Value\",name:\"sku\",value:this.state.fieldValue,onChange:function(t){return e.setState({fieldValue:t.target.value})},isInvalid:this.state.error}),R(h.a.Control.Feedback,{type:\"invalid\"},this.state.error))),R(h.a.Group,null,R(m.a,{type:\"submit\",variant:\"outline-primary\",size:\"sm\",onClick:this.handleSubmit.bind(this),disabled:this.state.isLoading,block:!0,style:V.submit_btn},this.state.isLoading?\"Uploading\":\"Add Field\",this.state.isLoading?R(v.a,{animation:\"grow\",size:\"sm\"}):null))),R(M.default,{title:\"Add Field Requests\",notification:!0,badge:99},this.state.field_requests_list&&this.state.field_requests_list.map((function(t,a){return R(h.a.Row,{key:a},R(h.a.Group,{as:p.a,lg:2,md:2,sm:3,xs:12},R(h.a.Control,{type:\"text\",size:\"sm\",name:\"date\",value:t.entry_date,disabled:!0})),R(h.a.Group,{as:p.a,lg:2,md:2,sm:3,xs:12},R(h.a.Control,{type:\"text\",size:\"sm\",name:\"vendor\",value:\"Vendor Name\",disabled:!0})),R(\"div\",{className:\"mr-auto\"}),R(h.a.Group,{as:p.a,lg:4,md:4,sm:6,xs:12},R(f.a,null,R(h.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Field Value\",name:\"sku\",value:t.value,onChange:function(t){return e.handleFieldRequestChange(t,a)},isInvalid:t.error,disabled:t.label}),R(h.a.Control.Feedback,{type:\"invalid\"},t.error))),R(\"div\",{className:\"mr-auto\"}),R(h.a.Group,{as:p.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},R(m.a,{type:\"submit\",variant:\"outline-success\",size:\"sm\",block:!0,style:V.submit_btn,onClick:function(){return t.label?e.handleEditFieldRequestClick(a):e.handleUpdateFieldRequestClick(a)},disabled:!t.label&&t.error},R(\"div\",null,t.label?\"Edit\":\"Update\"))),R(h.a.Group,{as:p.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},R(m.a,{type:\"submit\",variant:\"outline-primary\",size:\"sm\",block:!0,style:V.submit_btn,onClick:function(){t.label?e.handleAddFieldRequestClick(a):e.handleCancelFieldRequestClick(a)}},R(\"div\",null,t.label?\"Add\":\"Cancel\"))),R(\"div\",{className:\"mr-auto\"}),R(h.a.Group,{as:p.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},R(m.a,{type:\"submit\",variant:\"outline-danger\",size:\"sm\",block:!0,style:V.submit_btn,onClick:function(){return e.setState({isFieldDelete:!1,showConfirmDeleteModal:!0,delete_field_id:t._id,delete_field_name:t.value,delete_field_index:a})}},R(\"div\",null,\"Discard\"))))}))),R(M.default,{title:\"All Fields\"},R(h.a.Row,{style:{margin:\"0% 5%\"}},R(h.a.Group,{as:p.a},R(f.a,null,R(h.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Field Value\",name:\"sku\",value:this.state.filterStr,onChange:function(t){return e.handleFilterStrChange(t)}})))),R(\"hr\",null),this.state.fields_list&&this.state.fields_list.map((function(t,a){return R(h.a.Row,{key:a},R(h.a.Group,{as:p.a,lg:2,md:2,sm:6,xs:12},R(h.a.Control,{type:\"text\",size:\"sm\",name:\"sku\",value:t.entry_date,disabled:!0})),R(\"div\",{className:\"mr-auto\"}),R(h.a.Group,{as:p.a,lg:6,md:6,sm:6,xs:12},R(f.a,null,R(h.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Field Value\",name:\"sku\",value:t.value,onChange:function(t){return e.handleFieldChange(t,a)},disabled:t.label,isInvalid:t.error}),R(h.a.Control.Feedback,{type:\"invalid\"},t.error))),R(\"div\",{className:\"mr-auto\"}),R(h.a.Group,{as:p.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},R(m.a,{type:\"submit\",variant:\"outline-success\",size:\"sm\",block:!0,style:V.submit_btn,onClick:t.label?function(){return e.handleEditFieldClick(a)}:function(){return e.handleUpdateFieldClick(a)},disabled:!t.label&&t.error},R(\"div\",null,t.label?\"Edit\":\"Update\"))),R(\"div\",{className:\"mr-auto\"}),R(h.a.Group,{as:p.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},R(m.a,{type:\"submit\",variant:t.label?\"outline-danger\":\"outline-primary\",size:\"sm\",block:!0,style:V.submit_btn,onClick:t.label?function(){return e.setState({isFieldDelete:!0,showConfirmDeleteModal:!0,delete_field_id:t._id,delete_field_name:t.value,delete_field_index:a})}:function(){return e.handleCancelFieldClick(a)}},R(\"div\",null,t.label?\"Delete\":\"Cancel\"))))}))))}}]),a}(b.Component),V={title_row:{borderBottom:\"1px solid gray\",padding:\"1.5% 4%\"},title_fontawesome:{color:\"gray\",marginRight:\"3%\",width:\"26px\",height:\"26px\",maxHeight:\"26px\",maxWidth:\"26px\"},title:{color:\"gray\"},card:{margin:\"2%\"},card_body:{},label:{fontSize:\"\".concat(w.a.form_label_fontsize)},error:{width:\"100%\",textAlign:\"center\",color:\"#DC3545\",fontSize:\"14px\"},accordin_fontawesome:{color:\"\".concat(w.a.admin_primry_color),marginRight:\"10%\",width:\"15px\",height:\"15px\",maxHeight:\"15px\",maxWidth:\"15px\"}};t.default=P}}]);","extractedComments":[]}