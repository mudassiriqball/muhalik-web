{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{BOF4:function(e,t,a){\"use strict\";var r=a(\"evrj\");function s(e){this.message=e}s.prototype=new Error,s.prototype.name=\"InvalidTokenError\",e.exports=function(e,t){if(\"string\"!==typeof e)throw new s(\"Invalid token specified\");var a=!0===(t=t||{}).header?0:1;try{return JSON.parse(r(e.split(\".\")[a]))}catch(o){throw new s(\"Invalid token specified: \"+o.message)}},e.exports.InvalidTokenError=s},G7yv:function(e,t,a){\"use strict\";a.r(t);var r=a(\"o0o1\"),s=a.n(r),o=a(\"1OyB\"),n=a(\"vuIU\"),i=a(\"JX7q\"),l=a(\"Ji7U\"),u=a(\"md7G\"),c=a(\"foSv\"),d=a(\"rePB\"),g=a(\"MX0m\"),h=a.n(g),f=a(\"QojX\"),y=a(\"JI6e\"),p=a(\"zUrK\"),b=a(\"cWnB\"),m=a(\"T/rR\"),v=(a(\"IP2g\"),a(\"wHSu\")),C=a(\"twK/\"),_=a(\"q1tI\"),x=a.n(_),w=a(\"VbX6\"),S=a(\"bWZ2\"),k=a(\"vDqi\"),j=a.n(k),E=a(\"f6Jz\"),V=a(\"abLf\"),O=a(\"qTQu\"),z=a(\"/JS1\"),M=(a(\"vvUq\"),x.a.createElement);function N(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Object(c.a)(e);if(t){var s=Object(c.a)(this).constructor;a=Reflect.construct(r,arguments,s)}else a=r.apply(this,arguments);return Object(u.a)(this,a)}}var P=[],L=function(e){Object(l.a)(a,e);var t=N(a);function a(e){var r;return Object(o.a)(this,a),r=t.call(this,e),Object(d.a)(Object(i.a)(r),\"handleCategoryChange\",(function(e,t){var a=[];(a=Object.assign([],r.state.categories_list))[t].value=e.target.value,\"\"!=e.target.value&&e.target.value.length<=20&&e.target.value.length>=3?a[t].error=\"\":a[t].error=\"Value must be 3-20 characters\",r.setState({categories_list:a})})),Object(d.a)(Object(i.a)(r),\"handleSubCategoryChange\",(function(e,t){var a=[];(a=Object.assign([],r.state.sub_categories_list))[t].value=e.target.value,\"\"!=e.target.value&&e.target.value.length<=20&&e.target.value.length>=3?a[t].error=\"\":a[t].error=\"Value must be 3-20 characters\",r.setState({sub_categories_list:a})})),r.state={token:\"\",isLoading:!1,showToast:!1,showConfirmDeleteModal:!1,delete_category_id:\"\",delete_category_name:\"\",index:\"\",categoryValue:\"\",subCategoryValue:\"\",categoryError:\"\",subCategoryError:\"\",categories_list:[],sub_categories_list:[],editRequestedCategory:\"\",showModalMessage:\"\",showModal:!1,searchType:\"Category\",filterStr:\"\"},r}return Object(n.a)(a,[{key:\"UNSAFE_componentWillReceiveProps\",value:function(e){this.setState({categories_list:e.categories_list,sub_categories_list:e.sub_categories_list,token:e.token}),P=e.categories_list}},{key:\"addCategory\",value:function(e){var t,a;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return[],t={category:{value:this.state.categoryValue,label:this.state.categoryValue},sub_category:{value:this.state.subCategoryValue,label:this.state.subCategoryValue}},a=w.a.PATH+\"/api/categories/category\",r.next=5,s.a.awrap(j.a.post(a,{data:t},{headers:{authorization:this.state.token}}).then((function(t){return e.setState({isLoading:!1}),e.setState({showModalMessage:\"Product Category Added Successfully\"}),e.setState({showModal:!0}),!0})).catch((function(t){e.setState({isLoading:!1});try{alert(\"Error: \",t.response.data.message)}catch(a){console.log(\"Request Failed:\",t)}return!1})));case 5:case\"end\":return r.stop()}}),null,this,null,Promise)}},{key:\"handleSubmit\",value:function(){return s.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:\"\"==this.state.categoryValue||\"\"==this.state.subCategoryValue?(\"\"==this.state.categoryValue&&this.setState({categoryError:\"Enter Value First\"}),\"\"==this.state.subCategoryValue&&this.setState({subCategoryError:\"Enter Value First\"})):(this.setState({isLoading:!0}),this.addCategory(this));case 1:case\"end\":return e.stop()}}),null,this,null,Promise)}},{key:\"handleFilterStrChange\",value:function(e){this.setState({filterStr:e.target.value});var t=[];if(\"\"!=e.target.value){if(\"Category\"==this.state.searchType)P.filter((function(a){a.value.toLowerCase().includes(e.target.value.toLowerCase())&&t.push(a)}));else{this.state.sub_categories_list.filter((function(a){a.value.toLowerCase().includes(e.target.value.toLowerCase())&&P.filter((function(e){a.category_id==e._id&&t.push(e)}))}));var a=[];t.map((function(e){a.includes(e)||a.push(e)})),t=a}this.setState({categories_list:t})}else this.setState({categories_list:P})}},{key:\"handleEditCategoryClick\",value:function(e){var t,a;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=[],t=Object.assign([],this.state.categories_list),(a={})._id=t[e]._id,a.value=t[e].value,a.label=!1,a.prevVal=t[e].value,a.error=\"\",t[e]=a,r.next=11,s.a.awrap(this.setState({categories_list:t}));case 11:case\"end\":return r.stop()}}),null,this,null,Promise)}},{key:\"handleCancelCategoryClick\",value:function(e){var t=[];(t=Object.assign([],this.state.categories_list))[e].value=t[e].prevVal,t[e].error=\"\",t[e].label=!0,this.setState({categories_list:t})}},{key:\"handleUpdateCategoryClick\",value:function(){var e,t,a,r,o;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=[],t=this.state.index,(e=Object.assign([],this.state.categories_list))[t].value!=e[t].prevVal){n.next=8;break}e[t].error=\"Enter Different Value\",this.setState({categories_list:e}),n.next=14;break;case 8:return a=this,[],r={category:{value:e[t].value,label:e[t].value}},o=w.a.PATH+\"/api/categories/category/\".concat(e[t]._id),n.next=14,s.a.awrap(j.a.put(o,{data:r},{headers:{authorization:this.state.token}}).then((function(r){e[t].label=e[t].value,e[t].prevVal=e[t].value,a.setState({categories_list:e,showModalMessage:\"Product Category Updated Successfully\",showModal:!0}),P=e})).catch((function(e){try{alert(\"Error: \",e.response.data.message)}catch(t){alert(\"Category Update Failed\"),console.log(\"Request Failed:\",e)}})));case 14:case\"end\":return n.stop()}}),null,this,null,Promise)}},{key:\"handleEditSubCategoryClick\",value:function(e){var t,a;return s.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=[],t=Object.assign([],this.state.sub_categories_list),(a={})._id=t[e]._id,a.category_id=t[e].category_id,a.value=t[e].value,a.label=!1,a.prevVal=t[e].value,a.error=\"\",t[e]=a,r.next=12,s.a.awrap(this.setState({sub_categories_list:t}));case 12:case\"end\":return r.stop()}}),null,this,null,Promise)}},{key:\"handleCancelSubCategoryClick\",value:function(e){var t=[];(t=Object.assign([],this.state.sub_categories_list))[e].value=t[e].prevVal,t[e].error=\"\",t[e].label=!0,this.setState({sub_categories_list:t})}},{key:\"handleUpdateSubCategoryClick\",value:function(e){var t,a,r,o;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=[],(t=Object.assign([],this.state.sub_categories_list))[e].value!=t[e].prevVal){n.next=7;break}t[e].error=\"Enter Different Value\",this.setState({categories_list:t}),n.next=13;break;case 7:return a=this,[],r={value:t[e].value,label:t[e].value,category_id:t[e].category_id},o=w.a.PATH+\"/api/categories/sub-category/\".concat(t[e]._id),n.next=13,s.a.awrap(j.a.put(o,{data:r},{headers:{authorization:this.state.token}}).then((function(r){t[e].label=t[e].value,t[e].prevVal=t[e].value,a.setState({sub_categories_list:t,showModalMessage:\"Product Sub Category Updated Successfully\",showModal:!0}),P=t})).catch((function(e){try{alert(\"Error: \",e.response.data.message)}catch(t){console.log(\"Request Failed:\",e)}})));case 13:case\"end\":return n.stop()}}),null,this,null,Promise)}},{key:\"handleDeleteSubCategoryClick\",value:function(){var e,t,a,r;return s.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.setState({showConfirmDeleteModal:!1}),e=[],t=this.state.index,a=this,e=Object.assign([],this.state.sub_categories_list),r=w.a.PATH+\"/api/categories/sub-category/\".concat(e[t]._id),o.next=8,s.a.awrap(j.a.delete(r,{headers:{authorization:this.state.token}}).then((function(r){e.splice(t,1),a.setState({sub_categories_list:e,showModalMessage:\"Product Category Deleted\",showModal:!0}),P=e})).catch((function(e){try{alert(\"Error: \",e.response.data.message)}catch(t){console.log(\"Request Failed:\",e)}})));case 8:case\"end\":return o.stop()}}),null,this,null,Promise)}},{key:\"render\",value:function(){var e=this;return M(x.a.Fragment,null,M(E.default,{onHide:function(t){return e.setState({showModal:!1})},show:this.state.showModal,header:\"Success\",message:this.state.showModalMessage,iconname:C.b,color:\"#00b300\"}),M(V.default,{onHide:function(){return e.setState({showConfirmDeleteModal:!1})},show:this.state.showConfirmDeleteModal,title:\"Delete Sub Category\",_id:this.state.delete_category_id,name:this.state.delete_category_name,confirm:this.handleDeleteSubCategoryClick.bind(this)}),M(O.default,{icon:v.r,title:\" Admin Dashboard / Product Categories\"}),M(z.default,{title:\"Add New Category\"},M(f.a.Row,null,M(f.a.Group,{as:y.a,lg:6,md:6,sm:6,xs:12},M(f.a.Label,{style:R.label},\"Category\"),M(p.a,null,M(f.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Category Value\",name:\"sku\",value:this.state.categoryValue,onChange:function(t){return e.setState({categoryValue:t.target.value,categoryError:\"\"})},isInvalid:this.state.categoryError}),M(f.a.Control.Feedback,{type:\"invalid\"},this.state.categoryError))),M(f.a.Group,{as:y.a,lg:6,md:6,sm:6,xs:12},M(f.a.Label,{style:R.label},\"Sub Category\"),M(p.a,null,M(f.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Category Value\",name:\"sku\",value:this.state.subCategoryValue,onChange:function(t){return e.setState({subCategoryValue:t.target.value,subCategoryError:\"\"})},isInvalid:this.state.subCategoryError}),M(f.a.Control.Feedback,{type:\"invalid\"},this.state.subCategoryError))),M(f.a.Group,{as:y.a},M(b.a,{type:\"submit\",size:\"sm\",onClick:this.handleSubmit.bind(this),disabled:this.state.isLoading,block:!0,style:R.submit_btn},this.state.isLoading?\"Uploading\":\"Add Category\",this.state.isLoading?M(m.a,{animation:\"grow\",size:\"sm\"}):null)))),M(z.default,{title:\"All Categories\"},M(f.a.Row,{style:{margin:\"0% 5%\"}},M(f.a.Group,{as:y.a},M(p.a,null,M(p.a.Prepend,null,M(f.a.Control,{as:\"select\",variant:\"primary\",size:\"sm\",value:this.state.searchType,onChange:function(t){return e.setState({searchType:t.target.value})}},M(\"option\",{className:\"jsx-2287855846\"},\"Category\"),M(\"option\",{className:\"jsx-2287855846\"},\"Sub Category\"))),M(f.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Search Here\",name:\"search\",value:this.state.filterStr,onChange:function(t){return e.handleFilterStrChange(t)}})))),M(\"hr\",{className:\"jsx-2287855846\"}),this.state.categories_list&&this.state.categories_list.map((function(t,a){return M(\"div\",{key:a,className:\"jsx-2287855846\"},M(f.a.Row,null,M(f.a.Group,{as:y.a,lg:6,md:6,sm:8,xs:12},M(f.a.Control,{type:\"text\",size:\"sm\",name:\"sku\",value:t.value,disabled:t.label,onChange:function(t){return e.handleCategoryChange(t,a)},isInvalid:t.error}),M(f.a.Control.Feedback,{type:\"invalid\"},t.error)),M(\"div\",{className:\"jsx-2287855846 sm_xs_show mr-auto\"}),M(f.a.Group,{as:y.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},M(b.a,{type:\"submit\",variant:t.label?\"outline-primary\":\"outline-success\",size:\"sm\",block:!0,style:R.submit_btn,onClick:t.label?function(){return e.handleEditCategoryClick(a)}:function(){return e.handleUpdateCategoryClick(a)},disabled:!t.label&&t.error},M(\"div\",{className:\"jsx-2287855846\"},t.label?\"Edit\":\"Update\"))),M(\"div\",{className:\"jsx-2287855846 sm_xs_show mr-auto\"}),M(f.a.Group,{as:y.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},M(b.a,{type:\"submit\",variant:t.label?\"outline-danger\":\"outline-primary\",size:\"sm\",block:!0,style:R.submit_btn,onClick:t.label?null:function(){return e.handleCancelCategoryClick(a)},disabled:!!t.label},M(\"div\",{className:\"jsx-2287855846\"},t.label?\"Delete\":\"Cancel\")))),M(\"hr\",{className:\"jsx-2287855846 pb-0 pt-0 mt-0\"}),M(f.a.Row,null,e.state.sub_categories_list.map((function(r,s){return t._id==r.category_id?M(y.a,{lg:6,md:6,sm:12,xs:12,key:r._id},M(f.a.Row,null,M(f.a.Group,{as:y.a,lg:\"auto\",md:\"auto\",sm:8,xs:12},M(f.a.Control,{type:\"text\",size:\"sm\",name:\"sku\",value:r.value,disabled:r.label,onChange:function(t){return e.handleSubCategoryChange(t,s)},isInvalid:r.error}),M(f.a.Control.Feedback,{type:\"invalid\"},r.error)),M(\"div\",{className:\"jsx-2287855846 mr-auto\"}),M(f.a.Group,{as:y.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},M(b.a,{type:\"submit\",variant:r.label?\"outline-primary\":\"outline-success\",size:\"sm\",block:!0,style:R.submit_btn,onClick:r.label?function(){return e.handleEditSubCategoryClick(s)}:function(){return e.handleUpdateSubCategoryClick(s)},disabled:!r.label&&r.error},M(\"div\",{className:\"jsx-2287855846\"},r.label?\"Edit\":\"Update\"))),M(\"div\",{className:\"jsx-2287855846 sm_xs_show mr-auto\"}),M(f.a.Group,{as:y.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},M(b.a,{type:\"submit\",variant:r.label?\"outline-danger\":\"outline-primary\",size:\"sm\",block:!0,style:R.submit_btn,onClick:r.label?function(){return e.setState({showConfirmDeleteModal:!0,delete_category_id:r._id,delete_category_name:r.value,index:a})}:function(){return e.handleCancelSubCategoryClick(s)}},M(\"div\",{className:\"jsx-2287855846\"},r.label?\"Delete\":\"Cancel\"))))):null}))),M(\"hr\",{className:\"jsx-2287855846 mb-0\"}),M(\"hr\",{className:\"jsx-2287855846 pb-0 pt-0 mt-0\"}))}))),M(h.a,{id:\"2287855846\"},[\"@media only screen and (min-width:768px){.sm_xs_show.jsx-2287855846{display:none;}}\"]))}}]),a}(x.a.Component),R={title_row:{borderBottom:\"1px solid gray\",padding:\"1.5% 4%\"},title_fontawesome:{color:\"gray\",marginRight:\"3%\",width:\"26px\",height:\"26px\",maxHeight:\"26px\",maxWidth:\"26px\"},title:{color:\"gray\"},card:{margin:\"2%\"},card_body:{},label:{fontSize:\"\".concat(S.a.form_label_fontsize)},error:{width:\"100%\",textAlign:\"center\",color:\"#DC3545\",fontSize:\"14px\"},accordin_fontawesome:{color:\"\".concat(S.a.admin_primry_color),marginRight:\"10%\",width:\"15px\",height:\"15px\",maxHeight:\"15px\",maxWidth:\"15px\"}};t.default=L},KVCq:function(e,t){t.reactLocalStorage={set:function(e,t){return localStorage[e]=t,localStorage[e]},get:function(e,t,a=!0){var r=localStorage[e]||t;if(!a&&!r)throw e+\" not found in localStorage\";return r},setObject:function(e,t){return localStorage[e]=JSON.stringify(t),localStorage[e]},getObject:function(e,t={},a=!0){value=this.get(e,JSON.stringify(t),a);try{return JSON.parse(value)}catch(r){if(!a)throw\"Error in parsing value\"}},clear:function(){return localStorage.clear()},remove:function(e){return localStorage.removeItem(e)}}},abLf:function(e,t,a){\"use strict\";a.r(t);var r=a(\"q1tI\"),s=a.n(r),o=a(\"zM5D\"),n=a(\"QojX\"),i=a(\"cWnB\"),l=a(\"IP2g\"),u=a(\"wHSu\"),c=s.a.createElement;t.default=function(e){return c(o.a,{show:e.show,onHide:e.onHide,size:\"md\",\"aria-labelledby\":\"alert-modal\",centered:!0},c(\"div\",{style:{border:\"1px solid #ff3333\",borderRadius:\"5px\"}},c(o.a.Header,{closeButton:!0,style:{color:\"#ff3333\",borderBottom:\"1px solid #ff3333\"}},c(l.a,{icon:u.H,style:{color:\"#ff3333\",marginRight:\"10px\",width:\"35px\",height:\"35px\",maxHeight:\"35px\",maxWidth:\"35px\"}}),c(o.a.Title,{id:\"alert-modal\"},e.title)),c(o.a.Body,null,c(n.a.Label,{style:{fontSize:\"14px\",padding:\"0%\",margin:\"0%\"}},c(\"span\",{style:{fontWeight:\"bold\"}},\" Name: \"),e.name),c(\"br\",null),c(n.a.Label,{style:{fontSize:\"14px\",padding:\"0%\",margin:\"0%\"}},c(\"span\",{style:{fontWeight:\"bold\"}},\" ID: \"),e._id)),c(o.a.Footer,null,c(i.a,{size:\"sm\",variant:\"outline-danger\",className:\"mr-auto\",onClick:e.confirm},\"Confirm\"),c(i.a,{size:\"sm\",variant:\"outline-primary\",onClick:e.onHide},\"Cancel\"))))}},evrj:function(e,t,a){var r=a(\"m4GZ\");e.exports=function(e){var t=e.replace(/-/g,\"+\").replace(/_/g,\"/\");switch(t.length%4){case 0:break;case 2:t+=\"==\";break;case 3:t+=\"=\";break;default:throw\"Illegal base64url string!\"}try{return function(e){return decodeURIComponent(r(e).replace(/(.)/g,(function(e,t){var a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a=\"0\"+a),\"%\"+a})))}(t)}catch(a){return r(t)}}},m4GZ:function(e,t){var a=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";function r(e){this.message=e}r.prototype=new Error,r.prototype.name=\"InvalidCharacterError\",e.exports=\"undefined\"!==typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,\"\");if(t.length%4==1)throw new r(\"'atob' failed: The string to be decoded is not correctly encoded.\");for(var s,o,n=0,i=0,l=\"\";o=t.charAt(i++);~o&&(s=n%4?64*s+o:o,n++%4)?l+=String.fromCharCode(255&s>>(-2*n&6)):0)o=a.indexOf(o);return l}},vvUq:function(e,t,a){\"use strict\";a.d(t,\"d\",(function(){return d})),a.d(t,\"b\",(function(){return g})),a.d(t,\"c\",(function(){return h})),a.d(t,\"a\",(function(){return f}));var r=a(\"o0o1\"),s=a.n(r),o=a(\"q1tI\"),n=a.n(o),i=a(\"KVCq\"),l=a(\"BOF4\"),u=a(\"nOHt\"),c=a.n(u);n.a.createElement;function d(e){return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(i.reactLocalStorage.set(\"token\",e));case 2:case\"end\":return t.stop()}}),null,null,null,Promise)}function g(){return i.reactLocalStorage.get(\"token\")}function h(){try{i.reactLocalStorage.remove(\"token\"),c.a.replace(\"/index\"),c.a.reload(\"/index\")}catch(e){console.log(\"error:\",e)}}function f(e){try{var t=i.reactLocalStorage.get(\"token\"),a=l(t);if(\"admin\"==a.data.role)return a.data.fullName;if(a.data.role===e)return a.data.fullName;c.a.replace(\"/index\")}catch(r){return null}}}}]);","extractedComments":[]}