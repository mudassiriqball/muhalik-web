{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{\"7W2i\":function(e,a,t){var n=t(\"SksO\");e.exports=function(e,a){if(\"function\"!==typeof a&&null!==a)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&n(e,a)}},MBJH:function(e,a,t){\"use strict\";var n=t(\"wx14\"),l=t(\"zLVn\"),o=t(\"TSYQ\"),r=t.n(o),s=t(\"q1tI\"),i=t.n(s),c=t(\"vUet\"),u=i.a.forwardRef((function(e,a){var t=e.bsPrefix,o=e.className,s=e.striped,u=e.bordered,d=e.borderless,m=e.hover,f=e.size,p=e.variant,_=e.responsive,b=Object(l.a)(e,[\"bsPrefix\",\"className\",\"striped\",\"bordered\",\"borderless\",\"hover\",\"size\",\"variant\",\"responsive\"]),y=Object(c.b)(t,\"table\"),h=r()(o,y,p&&y+\"-\"+p,f&&y+\"-\"+f,s&&y+\"-striped\",u&&y+\"-bordered\",d&&y+\"-borderless\",m&&y+\"-hover\"),g=i.a.createElement(\"table\",Object(n.a)({},b,{className:h,ref:a}));if(_){var v=y+\"-responsive\";return\"string\"===typeof _&&(v=v+\"-\"+_),i.a.createElement(\"div\",{className:v},g)}return g}));a.a=u},Nsbk:function(e,a){function t(a){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(a)}e.exports=t},PJYZ:function(e,a){e.exports=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}},WGuO:function(e,a,t){\"use strict\";t.r(a);var n,l=t(\"ODXe\"),o=t(\"rePB\"),r=t(\"o0o1\"),s=t.n(r),i=t(\"1OyB\"),c=t(\"vuIU\"),u=t(\"Ji7U\"),d=t(\"md7G\"),m=t(\"foSv\"),f=t(\"MX0m\"),p=t.n(f),b=t(\"q1tI\"),y=t.n(b),h=t(\"3Z9Z\"),g=t(\"MBJH\"),v=t(\"QojX\"),x=t(\"+YzT\"),z=t(\"vDqi\"),w=t.n(z),k=t(\"VbX6\"),N=t(\"bWZ2\"),C=t(\"qTQu\"),G=(t(\"YFqc\"),t(\"nOHt\"),t(\"IP2g\")),j=t(\"wHSu\"),O=t(\"/JS1\"),L=y.a.createElement;function P(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var I=function(e){Object(u.a)(n,e);var a,t=(a=n,function(){var e,t=Object(m.a)(a);if(P()){var n=Object(m.a)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Object(d.a)(this,e)});function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={productsArray:[],viewProduct:!1,data:{}},a}return Object(c.a)(n,[{key:\"componentDidMount\",value:function(){var e,a;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=k.a.PATH+\"/api/products/\",t.prev=1,t.next=4,s.a.awrap(w.a.get(e));case 4:a=t.sent,console.log(\"data:\",a.data.data.docs),this.setState({productsArray:a.data.data.docs}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(\"Data Fetching Eror:\",t.t0);case 12:case\"end\":return t.stop()}}),null,this,[[1,9]],Promise)}},{key:\"handleViewProduct\",value:function(e){this.setState({data:this.state.productsArray[e],viewProduct:!0})}},{key:\"render\",value:function(){var e=this;return L(y.a.Fragment,null,this.state.viewProduct?L(E,{data:this.state.data,back:function(){return e.setState({viewProduct:!1,data:{}})}}):L(y.a.Fragment,null,L(C.default,{icon:j.z,title:\" Admin Dashboard / All Products\"}),L(h.a,{noGutters:!0,style:{margin:\"2%\",background:\"white\"}},L(g.a,{responsive:!0,bordered:!0,hover:!0,size:\"sm\"},L(\"thead\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},L(\"tr\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},L(\"th\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},L(v.a.Check,{type:\"checkbox\"})),L(\"th\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},\"Name\"),L(\"th\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},\"SKU\"),L(\"th\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},\"Stock\"),L(\"th\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},\"Price\"),L(\"th\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},\"Categories\"),L(\"th\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},\"Tags\"),L(\"th\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},\"Date\"))),L(\"tbody\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},this.state.productsArray&&this.state.productsArray.map((function(a,t){return _.isEqual(a.product_type,\"simple-product\")?L(\"tr\",{key:t,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},L(v.a.Check,{type:\"checkbox\"})),L(\"td\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])+\" td\"},a.product_name,L(\"div\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])+\" mr-auto\"}),L(x.a.Link,{style:S.nav_link,onClick:function(){return e.handleViewProduct(t)}},\" View \"),L(x.a.Link,{style:S.nav_link},\"Edit\"),L(x.a.Link,{style:S.nav_link},\"Delete\")),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},a.sku?a.sku:\"-\"),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},a.product_in_stock),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},a.product_price),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},a.product_category&&a.product_category.map((function(e){return e.value+\",\"}))),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},_.isEmpty(a.product_tags)?\"-\":a.product_tags.map((function(e){return e.value+\",\"}))),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},_.isEmpty(a.product_entry_date)?\"-\":a.product_entry_date)):L(y.a.Fragment,null,L(\"tr\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},L(v.a.Check,{type:\"checkbox\"})),L(\"td\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])+\" td\"},a.product_name,L(\"div\",{className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])+\" mr-auto\"}),L(x.a.Link,{style:S.nav_link,onClick:function(){return e.handleViewProduct(t)}},\"View\"),L(x.a.Link,{style:S.nav_link},\"Edit\"),L(x.a.Link,{style:S.nav_link},\"Delete\")),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},a.sku?a.sku:\"-\"),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},a.product_variations.map((function(e){return e.item[e.item.length-2].value+\",\"}))),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},a.product_variations.map((function(e){return e.item[e.item.length-3].value+\",\"}))),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},a.product_category&&a.product_category.map((function(e){return e.value+\",\"}))),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},_.isEmpty(a.product_tags)?\"-\":a.product_tags.map((function(e){return e.value+\",\"}))),L(\"td\",{align:\"center\",style:S.label,className:p.a.dynamic([[\"3582920204\",[N.a.form_label_fontsize]]])},_.isEmpty(a.product_entry_date)?\"-\":a.product_entry_date)))})))))),L(p.a,{id:\"3582920204\",dynamic:[N.a.form_label_fontsize]},[\".td.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:\".concat(N.a.form_label_fontsize,\";}\")]))}}]),n}(b.Component),S=(n={label:{fontSize:\"\".concat(N.a.form_label_fontsize)},nav_link:{paddingLeft:\"10px\",paddingRight:\"5px\"}},Object(o.a)(n,\"label\",{fontSize:\"\".concat(N.a.form_label_fontsize),color:\"\".concat(N.a.admin_primry_color),marginRight:\"2%\"}),Object(o.a)(n,\"row\",{margin:\"2%\",padding:\"0%\"}),Object(o.a)(n,\"img_preview_fontawesome\",{cursor:\"pointer\",color:\"white\",fontWeight:\"lighter\",width:\"30px\",height:\"30px\",maxHeight:\"30px\",maxWidth:\"30px\"}),Object(o.a)(n,\"fontawesome\",{color:\"\".concat(N.a.admin_primry_color),marginRight:\"10%\",width:\"17px\",height:\"17px\",maxHeight:\"17px\",maxWidth:\"17px\"}),Object(o.a)(n,\"general_info_label\",{fontSize:\"\".concat(N.a.form_label_fontsize),width:\"100%\",borderBottom:\"1px solid gray\"}),Object(o.a)(n,\"field_label\",{border:\"1px solid \".concat(N.a.body_color),color:\"\".concat(N.a.admin_primry_color),margin:\"0%\",width:\"100%\",padding:\"2px 5px\"}),Object(o.a)(n,\"card\",{width:\"100%\",border:\"1px solid lightgray\"}),Object(o.a)(n,\"card_header\",{alignItems:\"center\",fontSize:\"\".concat(N.a.card_header_fontsize),background:\"\".concat(N.a.card_header_background)}),n),E=function(e){var a=y.a.useState(!1),t=Object(l.a)(a,2),n=t[0],r=t[1],s=y.a.useState(!1),i=Object(l.a)(s,2),c=i[0],u=i[1],d=y.a.useState(\"\"),m=Object(l.a)(d,2),f=m[0],_=m[1];console.log(\"1111111:\",e.data),\"simple-product\"!=e.data.product_type?u(!1):u(!0);var b=e.data.product_image_link.length;function g(){f>0&&_(f-1)}return L(y.a.Fragment,null,L(h.a,{style:S.title_row,noGutters:!0},L(G.a,Object(o.a)({className:\"fontawesome\",icon:faArrowLeft,style:S.fontawesome,onClick:e.back},\"className\",\"mr-auto\")),L(\"div\",{style:S.title,className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])+\" mr-auto\"},\" \",e.data.product_name),L(\"div\",{style:S.title,className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])},\" Prev \"),L(\"div\",{style:S.title,className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])},\" Next \")),c?L(h.a,{style:S.row,noGutters:!0},e.data.product_image_link&&e.data.product_image_link.map((function(e,a){return L(\"div\",{style:{margin:\"0%\"},className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])},L(Image,{thumbnail:!0,fluid:!0,style:{minWidth:\"200px\",maxWidth:\"200px\"},src:e.value,alt:\"Flowers in Chania\",onClick:function(){r(!0),_(a)}}))}))):L(y.a.Fragment,null,L(O.default,{title:\"General Info\"},L(h.a,null,L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Product Name:\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Brand Name:\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"SKU:\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Warranty:\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Warranty Type:\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Discount:\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:6,md:6,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Purchase Note(s):\"),L(InputGroup,null,L(v.a.Control,{as:\"textarea\",row:\"5\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:6,md:6,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Discruption:\"),L(InputGroup,null,L(v.a.Control,{as:\"textarea\",row:\"5\",size:\"sm\",value:e.data.product_name,disabled:!0}))))),L(O.default,{title:\"Shipping Details\"},L(h.a,null,L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Length (cm):\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Width (cm):\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Height (cm):\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Weight (kg):\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Shipping Charges:\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))),L(v.a.Group,{as:Col,lg:4,md:4,sm:6,xs:12},L(v.a.Label,{style:S.label},\"Handlink Fee:\"),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.data.product_name,disabled:!0}))))),L(O.default,{title:\"Product Variations\"},e.data.product_variations&&e.data.product_variations.map((function(e){return L(y.a.Fragment,null,L(h.a,null,e.item.map((function(e){return L(v.a.Group,{as:Col,lg:3,md:3,sm:4,xs:12},L(v.a.Label,{style:S.label},e.name),L(InputGroup,null,L(v.a.Control,{type:\"text\",size:\"sm\",value:e.value,disabled:!0})))}))),L(\"hr\",{className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])}))}))),L(O.default,{title:\"Product Categories\"},L(v.a.Group,null,L(v.a.Label,{size:\"sm\"},\"Product Categories\"),L(InputGroup,null,e.data.product_category&&e.data.product_category.map((function(e){return L(v.a.Label,{style:S.label},e.value)})))),L(\"hr\",{className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])}),L(v.a.Group,null,L(v.a.Label,{size:\"sm\"},\"Product Tags\"),L(InputGroup,null,e.data.product_tags&&e.data.product_tags.map((function(e){return L(v.a.Label,{style:S.label},e.value)})))),L(\"hr\",{className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])}),L(v.a.Group,null,L(v.a.Label,null,\"Dangerous Goods\"),L(InputGroup,null,e.data.dangerous_goods&&e.data.dangerous_goods.map((function(e){return L(v.a.Label,{style:S.label},e)})))))),n?L(\"div\",{className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])+\" modal-overlay\"},L(\"div\",{className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])+\" modal-body\"},L(\"div\",{className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])+\" close-modal\"},L(\"div\",{className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])+\" mr-auto\"}),L(\"div\",{className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])+\" mr-auto\"}),L(G.a,{className:\"mr-auto\",icon:faChevronLeft,style:S.img_preview_fontawesome,onClick:function(){return g}}),L(G.a,{className:\"mr-auto\",icon:faChevronRight,style:S.img_preview_fontawesome,onClick:function(){f<b-1&&_(f+1)}}),L(\"div\",{className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])+\" mr-auto\"}),L(G.a,{icon:faTimes,style:S.img_preview_fontawesome,onClick:function(){return r(!1)}})),L(\"div\",{className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])+\" image-container\"},L(\"img\",{src:e.data.product_image_link[f].value,style:{maxWidth:\"100%\",maxHeight:\"90vh\",margin:\"auto\"},className:p.a.dynamic([[\"1041910871\",[N.a.form_label_fontsize,N.a.form_label_fontsize]]])})))):null,L(p.a,{id:\"1041910871\",dynamic:[N.a.form_label_fontsize,N.a.form_label_fontsize]},[\"th.__jsx-style-dynamic-selector{text-align:center;font-size:14px;}\",\".td.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;font-size:\".concat(N.a.form_label_fontsize,\";}\"),\"td.__jsx-style-dynamic-selector{font-size:\".concat(N.a.form_label_fontsize,\";}\"),\".modal-overlay.__jsx-style-dynamic-selector{position:fixed;top:0;left:0;bottom:0;right:0;z-index:10;width:100%;height:100%;background:rgba(21,21,21,0.75);}\",\".modal-body.__jsx-style-dynamic-selector{position:relative;z-index:11;margin:2.5%;overflow:hidden;max-width:100%;max-height:100%;}\",\".close-modal.__jsx-style-dynamic-selector{position:fixed;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;top:10px;left:0;right:0;width:100%;}\",\".image-container.__jsx-style-dynamic-selector{display:grid;height:100%;}\"]))};a.default=I},YFqc:function(e,a,t){e.exports=t(\"cTJO\")},a1gu:function(e,a,t){var n=t(\"cDf5\"),l=t(\"PJYZ\");e.exports=function(e,a){return!a||\"object\"!==n(a)&&\"function\"!==typeof a?l(e):a}},cTJO:function(e,a,t){\"use strict\";var n=t(\"lwsE\"),l=t(\"W8MJ\"),o=t(\"7W2i\"),r=t(\"a1gu\"),s=t(\"Nsbk\");function i(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var c=t(\"TqRt\"),u=t(\"284h\");a.__esModule=!0,a.default=void 0;var d,m=u(t(\"q1tI\")),f=t(\"QmWs\"),p=t(\"g/15\"),_=c(t(\"nOHt\"));function b(e){return e&&\"object\"===typeof e?(0,p.formatWithValidation)(e):e}var y=new Map,h=window.IntersectionObserver,g={};function v(){return d||(h?d=new h((function(e){e.forEach((function(e){if(y.has(e.target)){var a=y.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(d.unobserve(e.target),y.delete(e.target),a())}}))}),{rootMargin:\"200px\"}):void 0)}var x=function(e){o(c,e);var a,t=(a=c,function(){var e,t=s(a);if(i()){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return r(this,e)});function c(e){var a;return n(this,c),(a=t.call(this,e)).p=void 0,a.cleanUpListeners=function(){},a.formatUrls=function(e){var a=null,t=null,n=null;return function(l,o){if(n&&l===a&&o===t)return n;var r=e(l,o);return a=l,t=o,n=r,r}}((function(e,a){return{href:b(e),as:a?b(a):a}})),a.linkClicked=function(e){var t=e.currentTarget,n=t.nodeName,l=t.target;if(\"A\"!==n||!(l&&\"_self\"!==l||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var o=a.formatUrls(a.props.href,a.props.as),r=o.href,s=o.as;if(function(e){var a=(0,f.parse)(e,!1,!0),t=(0,f.parse)((0,p.getLocationOrigin)(),!1,!0);return!a.host||a.protocol===t.protocol&&a.host===t.host}(r)){var i=window.location.pathname;r=(0,f.resolve)(i,r),s=s?(0,f.resolve)(i,s):r,e.preventDefault();var c=a.props.scroll;null==c&&(c=s.indexOf(\"#\")<0),_.default[a.props.replace?\"replace\":\"push\"](r,s,{shallow:a.props.shallow}).then((function(e){e&&c&&(window.scrollTo(0,0),document.body.focus())}))}}},a.p=!1!==e.prefetch,a}return l(c,[{key:\"componentWillUnmount\",value:function(){this.cleanUpListeners()}},{key:\"getPaths\",value:function(){var e=window.location.pathname,a=this.formatUrls(this.props.href,this.props.as),t=a.href,n=a.as,l=(0,f.resolve)(e,t);return[l,n?(0,f.resolve)(e,n):l]}},{key:\"handleRef\",value:function(e){var a=this;this.p&&h&&e&&e.tagName&&(this.cleanUpListeners(),g[this.getPaths().join(\"%\")]||(this.cleanUpListeners=function(e,a){var t=v();return t?(t.observe(e),y.set(e,a),function(){try{t.unobserve(e)}catch(a){console.error(a)}y.delete(e)}):function(){}}(e,(function(){a.prefetch()}))))}},{key:\"prefetch\",value:function(e){if(this.p){var a=this.getPaths();_.default.prefetch(a[0],a[1],e).catch((function(e){0})),g[a.join(\"%\")]=!0}}},{key:\"render\",value:function(){var e=this,a=this.props.children,t=this.formatUrls(this.props.href,this.props.as),n=t.href,l=t.as;\"string\"===typeof a&&(a=m.default.createElement(\"a\",null,a));var o=m.Children.only(a),r={ref:function(a){e.handleRef(a),o&&\"object\"===typeof o&&o.ref&&(\"function\"===typeof o.ref?o.ref(a):\"object\"===typeof o.ref&&(o.ref.current=a))},onMouseEnter:function(a){o.props&&\"function\"===typeof o.props.onMouseEnter&&o.props.onMouseEnter(a),e.prefetch({priority:!0})},onClick:function(a){o.props&&\"function\"===typeof o.props.onClick&&o.props.onClick(a),a.defaultPrevented||e.linkClicked(a)}};return!this.props.passHref&&(\"a\"!==o.type||\"href\"in o.props)||(r.href=l||n),m.default.cloneElement(o,r)}}]),c}(m.Component);a.default=x}}]);"}