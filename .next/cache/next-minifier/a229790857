{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{yXNp:function(e,t,a){\"use strict\";a.r(t);var l=a(\"o0o1\"),i=a.n(l),s=a(\"1OyB\"),n=a(\"vuIU\"),r=a(\"JX7q\"),u=a(\"Ji7U\"),o=a(\"md7G\"),d=a(\"foSv\"),c=a(\"rePB\"),h=a(\"QojX\"),f=a(\"zUrK\"),v=a(\"cWnB\"),p=a(\"T/rR\"),m=a(\"JI6e\"),b=(a(\"IP2g\"),a(\"wHSu\")),g=a(\"twK/\"),y=a(\"q1tI\"),k=a.n(y),F=a(\"VbX6\"),C=a(\"bWZ2\"),w=a(\"vDqi\"),S=a.n(w),R=a(\"f6Jz\"),x=a(\"qTQu\"),L=a(\"/JS1\"),q=a(\"vvUq\"),j=k.a.createElement;function M(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=[],V=function(e){Object(u.a)(l,e);var t,a=(t=l,function(){var e,a=Object(d.a)(t);if(M()){var l=Object(d.a)(this).constructor;e=Reflect.construct(a,arguments,l)}else e=a.apply(this,arguments);return Object(o.a)(this,e)});function l(e){var t;return Object(s.a)(this,l),t=a.call(this,e),Object(c.a)(Object(r.a)(t),\"handleFieldRequestChange\",(function(e,a){var l=[];(l=Object.assign([],t.state.fieldRequestList))[a].value=e.target.value,\"\"!=e.target.value&&e.target.value.length<=20&&e.target.value.length>=3?l[a].error=\"\":l[a].error=\"Value must be 3-20 characters\",t.setState({fieldRequestList:l})})),Object(c.a)(Object(r.a)(t),\"handleFieldChange\",(function(e,a){var l=[];(l=Object.assign([],t.state.fieldList))[a].value=e.target.value,\"\"!=e.target.value&&e.target.value.length<=20&&e.target.value.length>=3?l[a].error=\"\":l[a].error=\"Value must be 3-20 characters\",t.setState({fieldList:l})})),Object(c.a)(Object(r.a)(t),\"handleDeleteFieldClick\",(function(e){var a=[];a=Object.assign([],t.state.fieldList),O.forEach((function(t,l){a[e].value==t.value&&O.splice(e,1)})),a.splice(e,1),t.setState({fieldList:a,showModalMessage:\"Product Field Deleted\",showModal:!0})})),t.state={isLoading:!1,showToast:!1,fieldValue:\"\",error:\"\",fieldList:[],fieldRequestList:[],editRequestedField:\"\",showModalMessage:\"\",showModal:!1,filterStr:\"\"},t}return Object(n.a)(l,[{key:\"componentDidMount\",value:function(){var e,t=this;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=F.a.PATH+\"/api/categories/fields\",a.t0=i.a,a.t1=S.a,a.t2=e,a.next=6,i.a.awrap(Object(q.c)());case 6:return a.t3=a.sent,a.t4={authorization:a.t3},a.t5={headers:a.t4},a.t6=a.t1.get.call(a.t1,a.t2,a.t5).then((function(e){console.log(\"Fields:\",e.data.data);var a=[];(a=e.data.data).forEach((function(e,t){e.label=!0})),t.setState({fieldList:a}),t.setState({fieldRequestList:t.state.fieldList}),O=a})).catch((function(e){alert(\"Fields_1 Fetchig Error: \",e)})),a.next=12,a.t0.awrap.call(a.t0,a.t6);case 12:case\"end\":return a.stop()}}),null,null,null,Promise)}},{key:\"addField\",value:function(e,t){var a,l;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=F.a.PATH+\"/api/categories/add-field\",[],l={label:e,value:e},s.t0=i.a,s.t1=S.a,s.t2=a,s.t3={data:l},s.next=9,i.a.awrap(Object(q.c)());case 9:return s.t4=s.sent,s.t5={authorization:s.t4},s.t6={headers:s.t5},s.t7=s.t1.post.call(s.t1,s.t2,s.t3,s.t6).then((function(e){t.setState({isLoading:!1}),t.setState({showModalMessage:\"Product Field Added Successfully\"}),t.setState({showModal:!0})})).catch((function(e){t.setState({isLoading:!1}),alert(\"Error: \",e.response.data.message)})),s.next=15,s.t0.awrap.call(s.t0,s.t7);case 15:case\"end\":return s.stop()}}),null,null,null,Promise)}},{key:\"handleFilterStrChange\",value:function(e){if(this.setState({filterStr:e.target.value}),\"\"==e.target.value)this.setState({fieldList:O});else{var t=[];this.state.fieldList.filter((function(a){a.value.includes(e.target.value)&&t.push(a)})),this.setState({fieldList:t})}}},{key:\"handleSubmit\",value:function(){\"\"==this.state.fieldValue?this.setState({error:\"Enter Value First\"}):(this.setState({isLoading:!0}),this.setState({error:\"\"}),this.addField(this.state.fieldValue,this))}},{key:\"handleEditFieldRequestClick\",value:function(e){var t,a;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=[],t=Object.assign([],this.state.fieldRequestList),(a={}).value=t[e].value,a.label=!1,a.prevVal=t[e].value,a.error=\"\",t[e]=a,l.next=10,i.a.awrap(this.setState({fieldRequestList:t}));case 10:case\"end\":return l.stop()}}),null,this,null,Promise)}},{key:\"handleCancelFieldRequestClick\",value:function(e){var t=[];(t=Object.assign([],this.state.fieldRequestList))[e].value=t[e].prevVal,t[e].label=!0,t[e].error=\"\",this.setState({fieldRequestList:t})}},{key:\"handleUpdateFieldRequestClick\",value:function(e){var t=[];(t=Object.assign([],this.state.fieldRequestList))[e].value==t[e].prevVal?(t[e].error=\"Enter Different Value\",this.setState({fieldRequestList:t})):\"\"==t[e].error&&(t[e].label=!0,this.setState({fieldRequestList:t,showModalMessage:\"Product Field Updated Successfully\",showModal:!0}))}},{key:\"handleAddFieldRequestClick\",value:function(e){var t=[];(t=Object.assign([],this.state.fieldRequestList)).splice(e,1),this.setState({fieldRequestList:t,showModalMessage:\"Product Field Added Successfully\",showModal:!0}),this.addField(t[e].value,this)}},{key:\"handleDeleteFieldRequestClick\",value:function(e){var t=[];(t=Object.assign([],this.state.fieldRequestList)).splice(e,1),this.setState({fieldRequestList:t,showModalMessage:\"Product Field Deleted\",showModal:!0})}},{key:\"handleEditFieldClick\",value:function(e){var t,a;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=[],t=Object.assign([],this.state.fieldList),(a={}).value=t[e].value,a.label=!1,a.prevVal=t[e].value,a.error=\"\",t[e]=a,l.next=10,i.a.awrap(this.setState({fieldList:t}));case 10:case\"end\":return l.stop()}}),null,this,null,Promise)}},{key:\"handleCancelFieldClick\",value:function(e){var t=[];(t=Object.assign([],this.state.fieldList))[e].value=t[e].prevVal,t[e].error=\"\",t[e].label=!0,this.setState({fieldList:t})}},{key:\"handleUpdateFieldClick\",value:function(e){var t=[];(t=Object.assign([],this.state.fieldList))[e].value==t[e].prevVal?(t[e].error=\"Enter Different Value\",this.setState({fieldRequestList:t})):\"\"==t[e].error&&(t[e].label=!0,O.forEach((function(a,l){t[e].prevVal==a.value&&(a.value=t[e].value)})),this.setState({fieldList:t,showModalMessage:\"Product Field Updated Successfully\",showModal:!0}))}},{key:\"render\",value:function(){var e=this;return j(k.a.Fragment,null,j(R.default,{onHide:function(t){return e.setState({showModal:!1})},show:this.state.showModal,header:\"Success\",message:this.state.showModalMessage,iconName:g.b,color:\"#00b300\"}),j(x.default,{icon:b.s,title:\" Admin Dashboard / Product Fields\"}),j(L.default,{title:\"Add New Field\"},j(h.a.Group,null,j(f.a,null,j(h.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Field Value\",name:\"sku\",value:this.state.fieldValue,onChange:function(t){return e.setState({fieldValue:t.target.value})},isInvalid:this.state.error}),j(h.a.Control.Feedback,{type:\"invalid\"},this.state.error))),j(h.a.Group,null,j(v.a,{type:\"submit\",variant:\"outline-primary\",size:\"sm\",onClick:this.handleSubmit.bind(this),disabled:this.state.isLoading,block:!0,style:E.submit_btn},this.state.isLoading?\"Uploading\":\"Add Field\",this.state.isLoading?j(p.a,{animation:\"grow\",size:\"sm\"}):null))),j(L.default,{title:\"Add Field Requests\"},this.state.fieldRequestList.map((function(t,a){return j(h.a.Row,null,j(h.a.Group,{as:m.a,lg:2,md:2,sm:6,xs:12},j(h.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Field Value\",name:\"sku\",value:t.value,disabled:!0})),j(h.a.Group,{as:m.a,lg:2,md:2,sm:6,xs:12},j(h.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Field Value\",name:\"sku\",value:t.value,disabled:!0})),j(\"div\",{className:\"mr-auto\"}),j(h.a.Group,{as:m.a,lg:4,md:4,sm:6,xs:12},j(f.a,null,j(h.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Field Value\",name:\"sku\",value:t.value,onChange:function(t){return e.handleFieldRequestChange(t,a)},isInvalid:t.error,disabled:t.label}),j(h.a.Control.Feedback,{type:\"invalid\"},t.error))),j(\"div\",{className:\"mr-auto\"}),j(h.a.Group,{as:m.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},j(v.a,{type:\"submit\",variant:\"outline-success\",size:\"sm\",block:!0,style:E.submit_btn,onClick:function(){return t.label?e.handleEditFieldRequestClick(a):e.handleUpdateFieldRequestClick(a)}},j(\"div\",null,t.label?\"Edit\":\"Update\"))),j(h.a.Group,{as:m.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},j(v.a,{type:\"submit\",variant:\"outline-primary\",size:\"sm\",block:!0,style:E.submit_btn,onClick:function(){t.label?e.handleAddFieldRequestClick(a):e.handleCancelFieldRequestClick(a)}},j(\"div\",null,t.label?\"Add\":\"Cancel\"))),j(\"div\",{className:\"mr-auto\"}),j(h.a.Group,{as:m.a,lg:\"auto\",md:\"auto\",sm:\"auto\",xs:\"auto\"},j(v.a,{type:\"submit\",variant:\"outline-danger\",size:\"sm\",block:!0,style:E.submit_btn,onClick:function(){return e.handleDeleteFieldRequestClick(a)}},j(\"div\",null,\"Discard\"))))}))),j(L.default,{title:\"All Fields\"},j(h.a.Row,{style:{margin:\"0% 5%\"}},j(h.a.Group,{as:m.a},j(f.a,null,j(h.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Field Value\",name:\"sku\",value:this.state.filterStr,onChange:function(t){return e.handleFilterStrChange(t)}})))),j(\"hr\",null),this.state.fieldList.map((function(t,a){return j(h.a.Row,null,j(h.a.Group,{as:m.a,lg:8,md:8,sm:12,xs:12},j(f.a,null,j(h.a.Control,{type:\"text\",size:\"sm\",placeholder:\"Enter Field Value\",name:\"sku\",value:t.value,onChange:function(t){return e.handleFieldChange(t,a)},disabled:t.label,isInvalid:t.error}),j(h.a.Control.Feedback,{type:\"invalid\"},t.error))),j(h.a.Group,{as:m.a,lg:1,md:1,sm:\"auto\",xs:\"auto\"},j(v.a,{type:\"submit\",variant:\"outline-success\",size:\"sm\",block:!0,style:E.submit_btn,onClick:t.label?function(){return e.handleEditFieldClick(a)}:function(){return e.handleUpdateFieldClick(a)}},j(\"div\",null,t.label?\"Edit\":\"Update\"))),j(\"div\",{className:\"mr-auto\"}),j(h.a.Group,{as:m.a,lg:2,md:2,sm:\"auto\",xs:\"auto\"},j(v.a,{type:\"submit\",variant:t.label?\"outline-danger\":\"outline-primary\",size:\"sm\",block:!0,style:E.submit_btn,onClick:t.label?function(){return e.handleDeleteFieldClick(a)}:function(){return e.handleCancelFieldClick(a)}},j(\"div\",null,t.label?\"Delete\":\"Cancel\"))))}))))}}]),l}(y.Component),E={title_row:{borderBottom:\"1px solid gray\",padding:\"1.5% 4%\"},title_fontawesome:{color:\"gray\",marginRight:\"3%\",width:\"26px\",height:\"26px\",maxHeight:\"26px\",maxWidth:\"26px\"},title:{color:\"gray\"},card:{margin:\"2%\"},card_body:{},label:{fontSize:\"\".concat(C.a.form_label_fontsize)},error:{width:\"100%\",textAlign:\"center\",color:\"#DC3545\",fontSize:\"14px\"},accordin_fontawesome:{color:\"\".concat(C.a.admin_primry_color),marginRight:\"10%\",width:\"15px\",height:\"15px\",maxHeight:\"15px\",maxWidth:\"15px\"}};t.default=V}}]);"}