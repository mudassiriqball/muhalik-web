{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _yup$object;\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Accordion, Form, Col, Row, Card, InputGroup, Button, Toast, Alert, Nav, Tabs, Spinner } from 'react-bootstrap';\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\nimport axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faKey, faSlidersH, faStoreAlt, faTruck, faTools, faDollarSign, faExclamationTriangle, faListAlt } from '@fortawesome/free-solid-svg-icons';\nimport { faThumbsUp, faThumbsDown } from '@fortawesome/free-regular-svg-icons';\nimport Select from 'react-select';\nimport CreatableSelect from 'react-select/creatable';\nimport ReactSelectMaterialUi from \"react-select-material-ui\";\nimport ShowToast from '../../../../toast';\nimport GlobalStyleSheet from '../../../../../../styleSheet';\nimport MuhalikConfig from '../../../../../../sdk/muhalik.config';\nimport { getUncodededTokenFromStorage } from '../../../../../../sdk/core/authentication-service';\nimport CustomFields from './add-new-contents/custom-fields';\nimport ProductData from './add-new-contents/product-data';\nimport product_size_options from '../../../../../../sdk/consts/product-size-options';\nimport product_color_options from '../../../../../../sdk/consts/product-color-options';\nvar product_attributes_list = [{\n  value: 'Size',\n  label: 'Size'\n}, {\n  value: 'Color',\n  label: 'Color'\n}, {\n  value: 'Price',\n  label: 'Price'\n}]; // Option List for select Product Category (when offline)\n\nvar product_categories = [{\n  value: 'Shoe',\n  label: 'Shoe'\n}, {\n  value: 'Cloth',\n  label: 'Cloth'\n}, {\n  value: 'Shirt',\n  label: 'Shirt'\n}, {\n  value: 'Pant',\n  label: 'Pant'\n}]; // For React-Select\n\nvar components = {\n  DropdownIndicator: null\n}; // Model For React-Select\n\nvar createOption = function createOption(label) {\n  return {\n    value: label,\n    label: label\n  };\n}; // Yup Schema for validation fields\n\n\nvar schema = yup.object((_yup$object = {\n  product_name: yup.string().required(\"Enter Product Name\").min(2, \"Must have at least 2 characters\").max(40, \"Can't be longer than 40 characters\"),\n  product_description: yup.string().min(5, \"Must have at least 5 characters\").max(200, \"Can't be longer than 200 characters\"),\n  // Product Data\n  product_type: yup.string(),\n  // => Inventory\n  sku: yup.string().min(0, 'Enter Between 0-100').max(100, 'Enter Between 0-100'),\n  // => General(Simple-Product)\n  product_price: yup.number().integer(\"Enter Only Numbers\").positive('Enter Between 1-1000000').max(1000000, 'Enter Between 1-1000000'),\n  product_in_stock: yup.number().integer(\"Enter Only Numbers\").min(1, \"Must grater than 1 digit\").max(1000000, \"Can't be longer than 1000000\"),\n  product_brand_name: yup.string().min(2, \"Must have at least 2 characters\").max(40, \"Can't be longer than 40 characters\"),\n  product_image_link: yup.string(),\n  product_warranty: yup.number().integer(\"Enter Only Numbers\").min(0, 'Enter Between 0-200').max(200, 'Enter Between 0-200'),\n  warranty_type: yup.string(),\n  product_discount: yup.number().integer(\"Enter Only Numbers\").min(0, 'Enter Between 0-100').max(100, 'Enter Between 0-100'),\n  // => Attributes (Variable Product)\n  purchase_note: yup.string(),\n  // => Variations (Variable Product)\n  product_variations: yup.string(),\n  // => Shipping\n  product_weight: yup.number().integer(\"Enter Only Numbers\").min(0, \"Must grater than 0 digit\").max(100, \"Can't be longer than 100\"),\n  dimension_length: yup.number().integer(\"Enter Only Numbers\").min(0, \"Must grater than 0 digit\").max(100, \"Can't be longer than 100\"),\n  dimension_width: yup.number().integer(\"Enter Only Numbers\").min(0, \"Must grater than 0 digit\").max(100, \"Can't be longer than 100\"),\n  dimension_height: yup.number().integer(\"Enter Only Numbers\").min(0, \"Must grater than 0 digit\").max(100, \"Can't be longer than 100\"),\n  shipping_charges: yup.number().integer(\"Enter Only Numbers\").min(0, 'Enter Between 0-100').max(100, 'Enter Between 0-100'),\n  handling_fee: yup.number().integer(\"Enter Only Numbers\").min(0, \"Must grater than 0 digit\").max(100, \"Can't be longer than 100\")\n}, _defineProperty(_yup$object, \"purchase_note\", yup.string()), _defineProperty(_yup$object, \"custom_fields\", yup.string()), _defineProperty(_yup$object, \"product_category\", yup.string()), _defineProperty(_yup$object, \"dangerous_goods\", yup.string()), _defineProperty(_yup$object, \"product_tags\", yup.string()), _yup$object));\n\nvar AddNew = /*#__PURE__*/function (_Component) {\n  _inherits(AddNew, _Component);\n\n  var _super = _createSuper(AddNew);\n\n  function AddNew(props) {\n    var _this$state;\n\n    var _this;\n\n    _classCallCheck(this, AddNew);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSimpleProductImageLinkChange\", function (arr, actionMeta) {\n      _this.setState({\n        simple_product_image_link: arr,\n        image_linkError: 'no_error',\n        image_linkErrorDiv: 'BorderDiv'\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSimpleProductImageLinkInputChange\", function (arr) {\n      _this.setState({\n        inputValue: arr\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSimpleProductImage_linkKeyDown\", function (event) {\n      var inputValue = _this.state.inputValue;\n      var simple_product_image_link = _this.state.simple_product_image_link;\n      if (!inputValue) return;\n\n      switch (event.key) {\n        case 'Enter':\n        case 'Tab':\n          _this.setState({\n            inputValue: '',\n            simple_product_image_link: [].concat(_toConsumableArray(simple_product_image_link), [createOption(inputValue)])\n          });\n\n          event.preventDefault();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleProductAttributeValueChange\", function (e) {\n      _this.setState({\n        productAttributeValue: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAddProductAttributeClick\", function () {\n      if (_this.state.productAttributeName != '' && _this.state.productAttributeValue != '') {\n        _this.setState({\n          productAttributeError: ''\n        });\n\n        var copyArray = Object.assign([], _this.state.productAttributesArray);\n        copyArray.push({\n          productAttributeName: _this.state.productAttributeName,\n          productAttributeValue: _this.state.productAttributeValue\n        });\n\n        _this.setState({\n          productAttributeName: ''\n        });\n\n        _this.setState({\n          productAttributeValue: ''\n        });\n\n        _this.setState({\n          productAttributeNameSelected: ''\n        });\n\n        _this.setState({\n          productAttributesArray: copyArray\n        });\n      } else {\n        _this.setState({\n          productAttributeError: 'Enter Field Name and Value'\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSaveProductAttributesClick\", function () {\n      var allArrays = [];\n\n      _this.state.productAttributesArray.forEach(function (element) {\n        var trim = element.productAttributeValue.split(' ').join('');\n        var splitArray = trim.split('|');\n        allArrays.push(splitArray);\n      });\n\n      var array = _this.allPossibleCases(allArrays);\n\n      var data = [];\n      array.forEach(function (element) {\n        var split = element.split('-');\n        var item = [];\n        split.forEach(function (e, i) {\n          item.push({\n            name: _this.state.productAttributesArray[i].productAttributeName,\n            value: e\n          });\n        });\n        data.push({\n          items: item,\n          price: '',\n          stock: '1',\n          image_link: '',\n          price_error: '',\n          image_link_error: '',\n          customField: []\n        });\n      }); // console.log(\"split Array: \", data)\n\n      _this.setState({\n        variationsArray: data\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleUpdateProductAttributeClick\", function (index, name, value) {\n      var copyArray = Object.assign([], _this.state.productAttributesArray);\n      copyArray[index] = {\n        productAttributeName: name,\n        productAttributeValue: value\n      };\n\n      _this.setState({\n        productAttributesArray: copyArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDeleteProductAttributeClick\", function (index) {\n      var copyArray = Object.assign([], _this.state.productAttributesArray);\n      copyArray.splice(index, 1);\n\n      _this.setState({\n        productAttributesArray: copyArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVariationsSamePriceChanged\", function (e) {\n      _this.setState({\n        samePriceInput: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVariationsSamePriceCheckbox\", function (e) {\n      if (e.target.checked) {\n        var copyArray = Object.assign([], _this.state.variationsArray);\n        copyArray.forEach(function (element) {\n          element.price = _this.state.samePriceInput;\n        });\n\n        _this.setState({\n          variationsArray: copyArray\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVariationsSameStockChanged\", function (e) {\n      _this.setState({\n        sameStockInput: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVariationsSameStockCheckbox\", function (e) {\n      if (e.target.checked) {\n        var copyArray = Object.assign([], _this.state.variationsArray);\n        copyArray.forEach(function (element) {\n          element.stock = _this.state.sameStockInput;\n        });\n\n        _this.setState({\n          variationsArray: copyArray\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVariationsSameImgLinkChanged\", function (e) {\n      _this.setState({\n        sameImgLinkInput: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVariationsSameImgLinkCheckbox\", function (e) {\n      if (e.target.checked) {\n        var copyArray = Object.assign([], _this.state.variationsArray);\n        copyArray.forEach(function (element) {\n          element.image_link = _this.state.sameImgLinkInput;\n        });\n\n        _this.setState({\n          variationsArray: copyArray\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVariationPriceChange\", function (e, index) {\n      var copyArray = Object.assign([], _this.state.variationsArray);\n      var object = copyArray[index];\n\n      if (e.target.value >= 0) {\n        object.price = e.target.value;\n        copyArray[index] = object;\n\n        _this.setState({\n          variationsArray: copyArray\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVariationProductInStockChang\", function (e, index) {\n      var copyArray = Object.assign([], _this.state.variationsArray);\n      var object = copyArray[index];\n\n      if (e.target.value >= 0) {\n        object.stock = e.target.value;\n        copyArray[index] = object;\n\n        _this.setState({\n          variationsArray: copyArray\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVariationImageLinkChange\", function (e, index) {\n      var copyArray = Object.assign([], _this.state.variationsArray);\n      var object = copyArray[index];\n      object.image_link = e.target.value;\n      copyArray[index] = object;\n\n      _this.setState({\n        variationsArray: copyArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDeleteProductVariationClick\", function (index) {\n      var copyArray = Object.assign([], _this.state.variationsArray);\n      copyArray.splice(index, 1);\n\n      _this.setState({\n        variationsArray: copyArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSaveVariationsClick\", function () {\n      var copyArray = Object.assign([], _this.state.variationsArray);\n      var flag = true;\n      copyArray.forEach(function (element) {\n        if (element.price == '' || element.image_link == '') {\n          flag = false;\n\n          if (element.price == '') {\n            element.price_error = 'Enter price';\n          }\n\n          if (element.image_link == '') {\n            element.image_link_error = 'Enter Image Link';\n          }\n        } else {\n          element.price_error = '';\n          element.image_link_error = '';\n        }\n      });\n\n      if (flag == true) {\n        _this.setState({\n          isVariationsSaved: true\n        });\n      }\n\n      _this.setState({\n        variationsArray: copyArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVariationsErrorCheck\", function (data) {\n      if (data.price_error != '' || data.image_link_error != '') {\n        return '1px solid red';\n      } else {\n        return 'none';\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleCustomFieldValueChange\", function (e) {\n      _this.setState({\n        customFieldValue: e.target.value\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAddCustomFieldBtnClick\", function () {\n      if (_this.state.customFieldName != '' && _this.state.customFieldValue != '') {\n        var copyArray = Object.assign([], _this.state.variationsArray);\n\n        if (_this.state.isVariableProduct == true) {\n          copyArray.forEach(function (element) {\n            element.customField.push({\n              name: _this.state.customFieldName,\n              value: _this.state.customFieldValue\n            });\n            console.log(\"element.customField: \", element.customField);\n          });\n\n          _this.setState({\n            variationsArray: copyArray\n          });\n        } else {\n          _this.state.customFieldsArray.push({\n            name: _this.state.customFieldName,\n            value: _this.state.customFieldValue\n          });\n        }\n\n        _this.setState({\n          customFieldError: ''\n        });\n\n        _this.setState({\n          customFieldName: ''\n        });\n\n        _this.setState({\n          customFieldValue: ''\n        });\n\n        _this.setState({\n          customFieldNameSelected: ''\n        });\n      } else {\n        _this.setState({\n          customFieldError: 'Enter Field Name and Value'\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateCustomFieldsClick\", function (index, name, value) {\n      var copyArray = Object.assign([], _this.state.customFieldsArray);\n      copyArray[index] = {\n        customFieldName: name,\n        customFieldValue: value\n      };\n\n      _this.setState({\n        customFieldsArray: copyArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"deleteCustomFieldsClick\", function (index) {\n      var copyArray = Object.assign([], _this.state.customFieldsArray);\n      copyArray.splice(index, 1);\n\n      _this.setState({\n        customFieldsArray: copyArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleProductCategoryChange\", function (arr) {\n      _this.setState({\n        productCategories: arr,\n        categoryError: 'no_error',\n        categoryErrorDiv: 'BorderDiv'\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDangerousGoodsChange\", function (e, name) {\n      var copyArray = Object.assign([], _this.state.dangerousGoodsArray);\n\n      if (e.target.checked) {\n        copyArray.push({\n          value: name\n        });\n      } else {\n        copyArray.forEach(function (element, index) {\n          if (element.value == name) {\n            copyArray.splice(index, 1);\n          }\n        });\n      }\n\n      _this.setState({\n        dangerousGoodsArray: copyArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleProductTagChange\", function (arr) {\n      _this.setState({\n        productTags: arr\n      });\n    });\n\n    _this.state = (_this$state = {\n      isLoading: false,\n      showToast: false,\n      showVariationsErrorAlert: false,\n      showSimpleProductPriceImgLinkErrorrAlert: false,\n      isVariableProduct: false,\n      product_categories_options: product_categories,\n      productCategories: '',\n      categoryError: 'no_error',\n      categoryErrorDiv: 'BorderDiv',\n      productTags: [],\n      warrantyType: 'Year',\n      inputValue: '',\n      simple_product_image_link: []\n    }, _defineProperty(_this$state, \"simple_product_image_link\", []), _defineProperty(_this$state, \"image_linkError\", 'no_error'), _defineProperty(_this$state, \"image_linkErrorDiv\", 'BorderDiv'), _defineProperty(_this$state, \"productAttributesArray\", []), _defineProperty(_this$state, \"productAttributeName\", ''), _defineProperty(_this$state, \"productAttributeValue\", ''), _defineProperty(_this$state, \"productAttributeError\", ''), _defineProperty(_this$state, \"productAttributeNameSelected\", ''), _defineProperty(_this$state, \"variationsArray\", []), _defineProperty(_this$state, \"isVariationsSaved\", false), _defineProperty(_this$state, \"samePriceInput\", ''), _defineProperty(_this$state, \"sameStockInput\", ''), _defineProperty(_this$state, \"sameImgLinkInput\", ''), _defineProperty(_this$state, \"customFieldsArray\", []), _defineProperty(_this$state, \"customFieldName\", ''), _defineProperty(_this$state, \"customFieldValue\", ''), _defineProperty(_this$state, \"customFieldError\", ''), _defineProperty(_this$state, \"customFieldNameSelected\", ''), _defineProperty(_this$state, \"dangerousGoodsArray\", []), _this$state);\n    _this.handleProductTypeChange = _this.handleProductTypeChange.bind(_assertThisInitialized(_this));\n    _this.handleAddCustomFieldBtnClick = _this.handleAddCustomFieldBtnClick.bind(_assertThisInitialized(_this)); // this.uploadProduct = this.uploadProduct.bind(this);\n\n    return _this;\n  } // Getting Product Categories from DB\n\n\n  _createClass(AddNew, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var url, response;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = MuhalikConfig.PATH + '/api/products-categories/get-all';\n              _context.prev = 1;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(axios.get(url));\n\n            case 4:\n              response = _context.sent;\n              this.setState({\n                product_categories_options: response.data.data\n              });\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[1, 8]], Promise);\n    } //  Submit data to api\n\n  }, {\n    key: \"uploadProduct\",\n    value: function uploadProduct(data, currentComponent) {\n      return _regeneratorRuntime.async(function uploadProduct$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log('data: ', data); // const url = MuhalikConfig.PATH + '/api/products/add';\n              // await axios.post(url, {\n              //     data\n              // }, {\n              //     headers: { 'authorization': await getUncodededTokenFromStorage() }\n              // }).then(function (response) {\n\n              currentComponent.setState({\n                isLoading: false\n              });\n              currentComponent.setState({\n                showToast: true\n              });\n              return _context2.abrupt(\"return\", true);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"handleProductTypeChange\",\n    value: function handleProductTypeChange(e) {\n      if (e.target.value == 'variable-prouct') {\n        this.setState({\n          isVariableProduct: true\n        });\n      } else {\n        this.setState({\n          isVariableProduct: false\n        });\n      }\n    } // Product Data\n    // => Simple Product Image Link\n\n  }, {\n    key: \"handleProductAttributeNameChange\",\n    // => End Of Simple Product Image Link\n    // => Product Attributes (Variable Product)\n    value: function handleProductAttributeNameChange(e) {\n      this.setState({\n        productAttributeName: e.value\n      });\n      this.setState({\n        productAttributeNameSelected: e\n      });\n    }\n  }, {\n    key: \"allPossibleCases\",\n    value: function allPossibleCases(arr) {\n      if (arr.length == 1) {\n        return arr[0];\n      } else {\n        var result = [];\n        var allCasesOfRest = this.allPossibleCases(arr.slice(1)); // recur with the rest of array\n\n        for (var i = 0; i < allCasesOfRest.length; i++) {\n          for (var j = 0; j < arr[0].length; j++) {\n            result.push(arr[0][j] + \"-\" + allCasesOfRest[i]);\n          }\n        }\n\n        return result;\n      }\n    }\n  }, {\n    key: \"handleCustomFieldNameChange\",\n    // => End Of Product Variations\n    // End of Product Data\n    // Custom Fields\n    value: function handleCustomFieldNameChange(e) {\n      this.setState({\n        customFieldName: e.value\n      });\n      this.setState({\n        customFieldNameSelected: e\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(Formik, {\n        validationSchema: schema,\n        initialValues: {\n          product_type: 'simple-product'\n        },\n        onSubmit: function onSubmit(values, _ref) {\n          var setSubmitting = _ref.setSubmitting,\n              resetForm = _ref.resetForm;\n\n          if (_this2.state.productCategories == '' || _this2.state.simple_product_image_link == '' && values.product_type == 'simple-product') {\n            // if (this.state.customFieldNameArray == '') {\n            //     this.setState({ categoryError: \"error\", categoryErrorDiv: 'RedBorderDiv' });\n            // }\n            if (_this2.state.productCategories == '') {\n              _this2.setState({\n                categoryError: \"error\",\n                categoryErrorDiv: 'RedBorderDiv'\n              });\n            }\n\n            if (_this2.state.simple_product_image_link == '' && values.product_type == 'simple-product') {\n              _this2.setState({\n                showSimpleProductPriceImgLinkErrorrAlert: true,\n                image_linkError: \"error\",\n                image_linkErrorDiv: 'RedBorderDiv'\n              });\n            }\n\n            setSubmitting(false);\n          } else if (_this2.state.isVariationsSaved == false && values.product_type == 'variable-prouct') {\n            _this2.setState({\n              showVariationsErrorAlert: true\n            });\n          } else {\n            resetForm();\n            setSubmitting(true);\n\n            _this2.setState({\n              isLoading: true\n            });\n\n            setTimeout(function () {\n              var array = []; // this.state.productCategories.forEach(element => {\n              //     array.push(element.value)\n              // })\n\n              values.product_category = _this2.state.productCategories; // array = [];\n              // this.state.productTags.forEach(element => {\n              //     array.push(element.value)\n              // })\n\n              values.product_tags = _this2.state.productTags;\n              values.dangerous_goods = _this2.state.dangerousGoodsArray;\n\n              if (values.product_type == 'simple-product') {\n                // array = [];\n                // this.state.simple_product_image_link.forEach(element => {\n                //     array.push(element.value)\n                // })\n                values.product_image_link = _this2.state.simple_product_image_link;\n\n                if (_this2.state.customFieldsArray != []) {\n                  // array = []\n                  // this.state.customFieldsArray.forEach(custom => {\n                  //     var obj = {};\n                  //     obj[custom.customFieldName] = custom.customFieldValue;\n                  //     array.push(obj)\n                  // });\n                  values.custom_fields = _this2.state.customFieldsArray;\n                }\n              } else {\n                array = [];\n\n                _this2.state.variationsArray.forEach(function (element, index) {\n                  var item = [];\n                  element.items.forEach(function (e) {\n                    item.push({\n                      name: e.name,\n                      value: e.value\n                    });\n                  });\n                  element.customField.forEach(function (e) {\n                    item.push({\n                      name: e.name,\n                      value: e.value\n                    });\n                  });\n                  item.push({\n                    name: 'price',\n                    value: element.price\n                  });\n                  item.push({\n                    name: 'stock',\n                    value: element.stock\n                  });\n                  item.push({\n                    name: 'image_link',\n                    value: element.image_link\n                  });\n                  array.push({\n                    item: item\n                  });\n                });\n\n                values.product_variations = array;\n              }\n\n              resetForm();\n\n              if (_this2.uploadProduct(values, _this2)) {\n                _this2.setState({\n                  productCategories: '',\n                  categoryError: 'no_error',\n                  categoryErrorDiv: 'BorderDiv',\n                  productTags: [],\n                  warrantyType: 'Year',\n                  inputValue: '',\n                  simple_product_image_link: [],\n                  image_linkError: 'no_error',\n                  image_linkErrorDiv: 'BorderDiv',\n                  isVariableProduct: false,\n                  productAttributesArray: [],\n                  productAttributeName: '',\n                  productAttributeValue: '',\n                  productAttributeError: '',\n                  variationsArray: [],\n                  isVariationsSaved: false,\n                  customFieldsArray: [],\n                  customFieldName: '',\n                  customFieldValue: '',\n                  customFieldError: ''\n                });\n              }\n\n              setSubmitting(false);\n            }, 500);\n          }\n        }\n      }, function (_ref2) {\n        var handleSubmit = _ref2.handleSubmit,\n            handleChange = _ref2.handleChange,\n            values = _ref2.values,\n            touched = _ref2.touched,\n            isValid = _ref2.isValid,\n            errors = _ref2.errors,\n            handleBlur = _ref2.handleBlur,\n            isSubmitting = _ref2.isSubmitting;\n        return __jsx(\"div\", {\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]])\n        }, __jsx(Row, {\n          style: styles.title_row,\n          noGutters: true\n        }, __jsx(FontAwesomeIcon, {\n          icon: faPlus,\n          style: styles.title_fontawesome\n        }), __jsx(\"div\", {\n          style: styles.title,\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]]) + \" \" + \"mr-auto\"\n        }, \" Add New Product\")), __jsx(Form, {\n          noValidate: true,\n          onSubmit: handleSubmit\n        }, _this2.state.showToast ? __jsx(ShowToast, {\n          onCloseHandler: function onCloseHandler(e) {\n            return _this2.setState({\n              showToast: false\n            });\n          },\n          show: _this2.state.showToast,\n          header: 'Success',\n          message: 'Product Uploaded Successfully',\n          iconName: faThumbsUp,\n          color: \"green\"\n        }) : null, _this2.state.showVariationsErrorAlert ? __jsx(ShowToast, {\n          onCloseHandler: function onCloseHandler(e) {\n            return _this2.setState({\n              showVariationsErrorAlert: false\n            });\n          },\n          show: _this2.state.showVariationsErrorAlert,\n          header: 'Error',\n          message: 'Please Add/Save Variations First',\n          iconName: faExclamationTriangle,\n          color: \"red\"\n        }) : null, _this2.state.showSimpleProductPriceImgLinkErrorrAlert ? __jsx(ShowToast, {\n          onCloseHandler: function onCloseHandler(e) {\n            return _this2.setState({\n              showSimpleProductPriceImgLinkErrorrAlert: false\n            });\n          },\n          show: _this2.state.showSimpleProductPriceImgLinkErrorrAlert,\n          header: 'Error',\n          message: 'Enter Price/Image Link in General Tab First',\n          iconName: faExclamationTriangle,\n          color: \"red\"\n        }) : null, __jsx(Row, {\n          noGutters: true,\n          style: {\n            paddingTop: '2%'\n          }\n        }, __jsx(Col, {\n          lg: 9,\n          md: 9,\n          sm: 12,\n          xs: 12\n        }, __jsx(Form.Group, {\n          as: Row,\n          style: styles.row\n        }, __jsx(Form.Label, {\n          style: styles.label\n        }, \"Product Name\", __jsx(\"span\", {\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]])\n        }, \"*\")), __jsx(InputGroup, null, __jsx(Form.Control, {\n          type: \"text\",\n          placeholder: \"Enter Product Name\",\n          name: \"product_name\",\n          value: values.product_name || '',\n          onChange: handleChange,\n          isInvalid: touched.product_name && errors.product_name\n        }), __jsx(Form.Control.Feedback, {\n          type: \"invalid\"\n        }, errors.product_name))), __jsx(Accordion, {\n          style: {\n            width: '100%'\n          },\n          defaultActiveKey: \"0\"\n        }, __jsx(Form.Group, {\n          as: Row,\n          style: styles.row\n        }, __jsx(Card, {\n          style: styles.card\n        }, __jsx(Card.Header, {\n          style: styles.card_header\n        }, __jsx(Form.Label, null, \"Product Discruption\"), __jsx(Accordion.Toggle, {\n          as: Button,\n          size: \"sm\",\n          eventKey: \"0\",\n          style: {\n            \"float\": 'right',\n            background: 'none'\n          }\n        }, __jsx(FontAwesomeIcon, {\n          size: \"xs\",\n          icon: faSlidersH,\n          style: styles.variations_fontawesome\n        }))), __jsx(Accordion.Collapse, {\n          eventKey: \"0\"\n        }, __jsx(Card.Body, null, __jsx(Form.Group, null, __jsx(Form.Control, {\n          as: \"textarea\",\n          placeholder: \"Enter Product Description\",\n          name: \"product_description\",\n          value: values.product_description || '',\n          rows: \"7\",\n          onChange: handleChange,\n          isInvalid: touched.product_description && errors.product_description\n        }), __jsx(Form.Control.Feedback, {\n          type: \"invalid\"\n        }, errors.product_description))))))), __jsx(Row, {\n          style: styles.row\n        }, __jsx(ProductData, {\n          productTypeHandler: _this2.handleProductTypeChange,\n          isVariableProduct: _this2.state.isVariableProduct,\n          product_type_values: values.product_type || '',\n          product_price_values: values.product_price || '',\n          product_price_touched: touched.product_price,\n          product_price_errors: errors.product_price,\n          product_in_stock_values: values.product_in_stock || '',\n          product_in_stock_touched: touched.product_in_stock,\n          product_in_stock_errors: errors.product_in_stock,\n          product_brand_name_values: values.product_brand_name || '',\n          product_brand_name_touched: touched.product_brand_name,\n          product_brand_name_errors: errors.product_brand_name,\n          imageLink: _this2.state.simple_product_image_link,\n          simpleProductImageLinkHandler: _this2.handleSimpleProductImageLinkChange.bind(_this2),\n          inputValue: _this2.state.inputValue,\n          simpleProductImageLinkInputChangeHandler: _this2.handleSimpleProductImageLinkInputChange.bind(_this2),\n          simpleProductImageLinkhandleKeyDownHandler: _this2.handleSimpleProductImage_linkKeyDown.bind(_this2),\n          simpleProductError: _this2.state.showSimpleProductPriceImgLinkErrorrAlert,\n          product_warranty_values: values.product_warranty || '',\n          product_warranty_touched: touched.product_warranty,\n          product_warranty_errors: errors.product_warranty,\n          warranty_type_values: values.warranty_type || '',\n          warranty_type_touched: touched.warranty_type,\n          warranty_type_errors: errors.warranty_type,\n          product_discount_values: values.product_discount || '',\n          product_discount_touched: touched.product_discount,\n          product_discount_errors: errors.product_discount,\n          sku_values: values.sku || '',\n          sku_touched: touched.sku,\n          sku_errors: errors.sku,\n          product_weight_values: values.product_weight || '',\n          product_weight_touched: touched.product_weight,\n          product_weight_errors: errors.product_weight,\n          dimension_length_values: values.dimension_length || '',\n          dimension_length_touched: touched.dimension_length,\n          dimension_length_errors: errors.dimension_length,\n          dimension_width_values: values.dimension_width || '',\n          dimension_width_touched: touched.dimension_width,\n          dimension_width_errors: errors.dimension_width,\n          dimension_height_values: values.dimension_height || '',\n          dimension_height_touched: touched.dimension_height,\n          dimension_height_errors: errors.dimension_height,\n          shipping_charges_values: values.shipping_charges || '',\n          shipping_charges_touched: touched.shipping_charges,\n          shipping_charges_errors: errors.shipping_charges,\n          handling_fee_values: values.handling_fee || '',\n          handling_fee_touched: touched.handling_fee,\n          handling_fee_errors: errors.handling_fee,\n          purchase_note_values: values.purchase_note || '',\n          purchase_note_touched: touched.purchase_note,\n          purchase_note_errors: errors.purchase_note,\n          onChange: handleChange,\n          touched: touched,\n          errors: errors,\n          productColorChangeHandler: _this2.handleProductColorChange // size={this.state.size}\n          ,\n          productSizeChangeHandler: _this2.handleProductSizeChange,\n          attributesArray: _this2.state.productAttributesArray,\n          name: _this2.state.productAttributeName,\n          value: _this2.state.productAttributeValue,\n          productAttributeNameSelected: _this2.state.productAttributeNameSelected,\n          attributeNameHandler: _this2.handleProductAttributeNameChange.bind(_this2),\n          attributeValueHandler: _this2.handleProductAttributeValueChange.bind(_this2),\n          addAttributeHandler: _this2.handleAddProductAttributeClick.bind(_this2),\n          update: _this2.handleUpdateProductAttributeClick.bind(_this2),\n          deleteAttributeHandler: _this2.handleDeleteProductAttributeClick.bind(_this2),\n          deleteVariationHandler: _this2.handleDeleteProductVariationClick.bind(_this2),\n          saveVariationsHandler: _this2.handleSaveVariationsClick.bind(_this2),\n          variationsErrorHandler: _this2.handleVariationsErrorCheck.bind(_this2),\n          error: _this2.state.productAttributeError,\n          saveAttributesHandler: _this2.handleSaveProductAttributesClick,\n          variationsArray: _this2.state.variationsArray,\n          variationPriceHandler: _this2.handleVariationPriceChange.bind(_this2),\n          variationStockHandler: _this2.handleVariationProductInStockChang.bind(_this2),\n          variationImageLinkHandler: _this2.handleVariationImageLinkChange.bind(_this2),\n          samePriceInput: _this2.state.samePriceInput,\n          variationsSamePriceChanged: _this2.handleVariationsSamePriceChanged.bind(_this2),\n          variationsSamePriceCheckboxHandler: _this2.handleVariationsSamePriceCheckbox.bind(_this2),\n          sameStockInput: _this2.state.sameStockInput,\n          variationsSameStockChanged: _this2.handleVariationsSameStockChanged.bind(_this2),\n          variationsSameStockCheckboxHandler: _this2.handleVariationsSameStockCheckbox.bind(_this2),\n          sameImgLinkInput: _this2.state.sameImgLinkInput,\n          variationsSameImgLinkChanged: _this2.handleVariationsSameImgLinkChanged.bind(_this2),\n          variationsSameImgLinkCheckboxHandler: _this2.handleVariationsSameImgLinkCheckbox.bind(_this2)\n        })), __jsx(Form.Group, {\n          as: Row,\n          style: styles.row\n        }, __jsx(CustomFields, {\n          customFieldsArray: _this2.state.customFieldsArray,\n          isVariableProduct: _this2.state.isVariableProduct,\n          name: _this2.state.customFieldName,\n          value: _this2.state.customFieldValue,\n          customFieldNameSelected: _this2.state.customFieldNameSelected,\n          fieldNameHandler: _this2.handleCustomFieldNameChange.bind(_this2),\n          fieldValueHandler: _this2.handleCustomFieldValueChange.bind(_this2),\n          addFieldHandler: _this2.handleAddCustomFieldBtnClick.bind(_this2),\n          update: _this2.updateCustomFieldsClick.bind(_this2),\n          \"delete\": _this2.deleteCustomFieldsClick.bind(_this2),\n          error: _this2.state.customFieldError\n        }))), __jsx(Col, {\n          lg: 3,\n          md: 3,\n          sm: 12,\n          xs: 12\n        }, __jsx(Accordion, {\n          style: {\n            width: '100%'\n          },\n          defaultActiveKey: \"0\"\n        }, __jsx(Form.Group, {\n          as: Row,\n          style: styles.row\n        }, __jsx(Card, {\n          style: styles.card\n        }, __jsx(Card.Header, {\n          style: styles.card_header\n        }, __jsx(Form.Label, null, \"Product Categories\"), __jsx(Accordion.Toggle, {\n          as: Button,\n          size: \"sm\",\n          eventKey: \"0\",\n          style: {\n            \"float\": 'right',\n            background: 'none'\n          }\n        }, __jsx(FontAwesomeIcon, {\n          size: \"xs\",\n          icon: faSlidersH,\n          style: styles.variations_fontawesome\n        }))), __jsx(Accordion.Collapse, {\n          eventKey: \"0\"\n        }, __jsx(Card.Body, {\n          style: {\n            height: '250px'\n          }\n        }, __jsx(\"div\", {\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]]) + \" \" + (_this2.state.categoryErrorDiv || \"\")\n        }, __jsx(CreatableSelect, {\n          isMulti: true,\n          onChange: _this2.handleProductCategoryChange,\n          options: _this2.state.product_categories_options,\n          value: _this2.state.productCategories,\n          placeholder: \"Select/Enter Category\"\n        })), __jsx(\"label\", {\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]]) + \" \" + (_this2.state.categoryError || \"\")\n        }, \"Selet Category\")))))), __jsx(Accordion, {\n          style: {\n            width: '100%'\n          },\n          defaultActiveKey: \"0\"\n        }, __jsx(Form.Group, {\n          as: Row,\n          style: styles.row\n        }, __jsx(Card, {\n          style: styles.card\n        }, __jsx(Card.Header, {\n          style: styles.card_header\n        }, __jsx(Form.Label, null, \"Dangerous Goods\"), __jsx(Accordion.Toggle, {\n          as: Button,\n          size: \"sm\",\n          eventKey: \"0\",\n          style: {\n            \"float\": 'right',\n            background: 'none'\n          }\n        }, __jsx(FontAwesomeIcon, {\n          size: \"xs\",\n          icon: faSlidersH,\n          style: styles.variations_fontawesome\n        }))), __jsx(Accordion.Collapse, {\n          eventKey: \"0\"\n        }, __jsx(Card.Body, null, __jsx(Form.Check, {\n          name: \"not_specified\",\n          label: \"Not Specified\",\n          style: styles.label,\n          onChange: function onChange(e) {\n            return _this2.handleDangerousGoodsChange(e, 'Not Specified');\n          }\n        }), __jsx(\"br\", {\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]])\n        }), __jsx(Form.Check, {\n          name: \"ceramic\",\n          label: \"Ceramic\",\n          style: styles.label,\n          onChange: function onChange(e) {\n            return _this2.handleDangerousGoodsChange(e, 'Ceramic');\n          }\n        }), __jsx(\"br\", {\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]])\n        }), __jsx(Form.Check, {\n          name: \"glass\",\n          label: \"Glass\",\n          style: styles.label,\n          onChange: function onChange(e) {\n            return _this2.handleDangerousGoodsChange(e, 'Glass');\n          }\n        }), __jsx(\"br\", {\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]])\n        }), __jsx(Form.Check, {\n          name: \"metal\",\n          label: \"Metal\",\n          style: styles.label,\n          onChange: function onChange(e) {\n            return _this2.handleDangerousGoodsChange(e, 'Metal');\n          }\n        }), __jsx(\"br\", {\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]])\n        }), __jsx(Form.Check, {\n          name: \"plastic\",\n          label: \"Plastic\",\n          style: styles.label,\n          onChange: function onChange(e) {\n            return _this2.handleDangerousGoodsChange(e, 'Plastic');\n          }\n        })))))), __jsx(Accordion, {\n          style: {\n            width: '100%'\n          },\n          defaultActiveKey: \"0\"\n        }, __jsx(Form.Group, {\n          as: Row,\n          style: styles.row\n        }, __jsx(Card, {\n          style: styles.card\n        }, __jsx(Card.Header, {\n          style: styles.card_header\n        }, __jsx(Form.Label, null, \"Product Tags\"), __jsx(Accordion.Toggle, {\n          as: Button,\n          size: \"sm\",\n          eventKey: \"0\",\n          style: {\n            \"float\": 'right',\n            background: 'none'\n          }\n        }, __jsx(FontAwesomeIcon, {\n          size: \"xs\",\n          icon: faSlidersH,\n          style: styles.variations_fontawesome\n        }))), __jsx(Accordion.Collapse, {\n          eventKey: \"0\"\n        }, __jsx(Card.Body, {\n          style: {\n            height: '250px'\n          }\n        }, __jsx(CreatableSelect, {\n          isMulti: true,\n          onChange: _this2.handleProductTagChange,\n          options: product_color_options,\n          value: _this2.state.productTags,\n          placeholder: \"Select/Enter Tags\"\n        })))))))), __jsx(Form.Row, {\n          style: styles.row\n        }, __jsx(Form.Group, {\n          as: Col\n        }, __jsx(\"p\", {\n          style: styles.label,\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]])\n        }, \"Fields with \", __jsx(\"span\", {\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]])\n        }, \" * \"), \" are mandatory.\"), __jsx(\"p\", {\n          style: styles.label,\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]])\n        }, \"For adding new size, color, link: Enter text and hit Enter or Tab key\"), __jsx(Button, {\n          type: \"submit\",\n          onSubmit: handleSubmit,\n          disabled: _this2.state.isLoading,\n          block: true,\n          style: styles.submit_btn\n        }, _this2.state.isLoading ? 'Uploading' : 'Upload', _this2.state.isLoading ? __jsx(Spinner, {\n          animation: \"grow\",\n          size: \"sm\"\n        }) : __jsx(\"div\", {\n          className: _JSXStyle.dynamic([[\"3833814464\", [GlobalStyleSheet.admin_primry_color]]])\n        }))))), __jsx(_JSXStyle, {\n          id: \"3833814464\",\n          dynamic: [GlobalStyleSheet.admin_primry_color]\n        }, [\".no_error.__jsx-style-dynamic-selector{display:none;}\", \".error.__jsx-style-dynamic-selector{margin-top:4px;color:#DC3545;font-size:14px;display:block;}\", \".RedBorderDiv.__jsx-style-dynamic-selector{border:0.5px solid #DC3545;padding:0.5px 0px 0.2px 0.5px;width:100%;}\", \".BorderDiv.__jsx-style-dynamic-selector{border:none;width:100%;}\", \"span.__jsx-style-dynamic-selector{color:red;}\", \".nav_link.__jsx-style-dynamic-selector{background:\".concat(GlobalStyleSheet.admin_primry_color, \";border-top:0.5px solid #434556;border-bottom:0.5px solid #434556;margin:1.5px 0px;border-radius:4px;}\"), \"p.__jsx-style-dynamic-selector{text-align:center;margin:0px;}\"]));\n      });\n    }\n  }]);\n\n  return AddNew;\n}(Component);\n\nvar styles = {\n  title_row: {\n    borderBottom: '1px solid gray',\n    padding: '1.5% 4%'\n  },\n  title_fontawesome: {\n    color: 'gray',\n    marginRight: '3%',\n    width: '26px',\n    height: '26px',\n    maxHeight: '26px',\n    maxWidth: '26px'\n  },\n  title: {\n    color: 'gray'\n  },\n  nav_link: {\n    color: 'white',\n    fontSize: '13px',\n    display: 'flex',\n    alignItems: 'center',\n    height: '45px'\n  },\n  row: {\n    margin: '2%',\n    padding: '0%'\n  },\n  card: {\n    width: '100%'\n  },\n  card_header: {\n    alignItems: 'center',\n    // color: '#6A7074',\n    fontSize: '14px',\n    background: 'lightgray'\n  },\n  buttons: {\n    background: \"\".concat(GlobalStyleSheet.primry_color),\n    border: 'none',\n    fontSize: '10px'\n  },\n  submit_btn: {\n    // background: `${GlobalStyleSheet.admin_primry_color}`,\n    marginTop: '1%'\n  },\n  label: {\n    fontSize: \"\".concat(GlobalStyleSheet.form_label_fontsize)\n  },\n  term_condition_label: {\n    width: '100%',\n    fontSize: \"\".concat(GlobalStyleSheet.form_label_fontsize),\n    paddingTop: '-10px',\n    marginTop: '-10px'\n  },\n  fontawesome: {\n    color: \"\".concat(GlobalStyleSheet.primary_text_color),\n    width: '15px',\n    height: '15px',\n    maxHeight: '15px',\n    maxWidth: '15px'\n  },\n  product_fontawesome: {\n    color: \"\".concat(GlobalStyleSheet.primary_text_color),\n    marginRight: '10%',\n    width: '17px',\n    height: '17px',\n    maxHeight: '17px',\n    maxWidth: '17px'\n  },\n  variations_fontawesome: {\n    color: \"\".concat(GlobalStyleSheet.admin_primry_color),\n    marginRight: '10%',\n    width: '15px',\n    height: '15px',\n    maxHeight: '15px',\n    maxWidth: '15px'\n  }\n};\nexport default AddNew;","map":null,"metadata":{},"sourceType":"module"}