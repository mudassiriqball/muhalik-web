{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n// export default AuthenticationService;\nimport { reactLocalStorage } from 'reactjs-localstorage'; // import { useRouter } from 'next/router'\n// import Router from 'next/router'\n\nimport * as decode from 'jwt-decode';\nimport Router from 'next/router';\n\nvar AuthenticationService = function AuthenticationService() {\n  return __jsx(\"div\", null);\n};\n\nexport function saveTokenToStorage(token) {\n  return _regeneratorRuntime.async(function saveTokenToStorage$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(reactLocalStorage.set('token', token));\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport function getDecodedTokenFromStorage() {\n  try {\n    var token = reactLocalStorage.get('token');\n    var decodedToken = decode(token);\n    return decodedToken.data;\n  } catch (error) {\n    return null;\n  }\n}\nexport function getTokenFromStorage() {\n  return reactLocalStorage.get('token');\n}\nexport function removeTokenFromStorage() {\n  try {\n    reactLocalStorage.remove('token');\n    Router.replace('/index');\n    Router.reload('/index');\n  } catch (error) {\n    console.log(\"error:\", error);\n  }\n}\nexport function chectAuth(rolee) {\n  try {\n    var token = reactLocalStorage.get('token');\n    var decodedToken = decode(token);\n\n    if (decodedToken.data.role == 'admin') {\n      return decodedToken.data.fullName;\n    } else if (decodedToken.data.role !== rolee) {\n      Router.replace('/index');\n    } else {\n      return decodedToken.data.fullName;\n    }\n  } catch (error) {\n    return null;\n  }\n}\nexport default AuthenticationService;","map":null,"metadata":{},"sourceType":"module"}