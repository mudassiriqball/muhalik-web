{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\MudassirR\\\\Desktop\\\\Muhalik\\\\New folder\\\\muhalikweb\\\\src\\\\pages\\\\admin.js\";\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Router from 'next/router';\nimport axios from 'axios';\nimport Dashboard from './components/admin/dashboard/dashboard';\nimport DashboardSideDrawer from './components/admin/dashboard/dashboard-side-drawer';\nimport AdminLayout from './components/admin/layout/AdminLayout';\nimport GlobalStyleSheet from '../styleSheet';\nimport MuhalikConfig from '../sdk/muhalik.config';\nimport { chectAuth, removeTokenFromStorage, getTokenFromStorage } from '../sdk/core/authentication-service';\n\nvar BackDrop = function BackDrop(props) {\n  return __jsx(\"div\", {\n    className: \"jsx-3404600223\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    onClick: props.click,\n    className: \"jsx-3404600223\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }), __jsx(_JSXStyle, {\n    id: \"3404600223\",\n    __self: _this\n  }, \".jsx-3404600223{position:fixed;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,0.3);z-index:100;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTXVkYXNzaXJSXFxEZXNrdG9wXFxNdWhhbGlrXFxOZXcgZm9sZGVyXFxtdWhhbGlrd2ViXFxzcmNcXHBhZ2VzXFxhZG1pbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFjb0IsQUFFNkIsZUFDSixXQUNDLFlBQ04sTUFDQyxPQUN1QiwyQkFDbEIsWUFDakIiLCJmaWxlIjoiQzpcXFVzZXJzXFxNdWRhc3NpclJcXERlc2t0b3BcXE11aGFsaWtcXE5ldyBmb2xkZXJcXG11aGFsaWt3ZWJcXHNyY1xccGFnZXNcXGFkbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJvdXRlciBmcm9tICduZXh0L3JvdXRlcidcclxuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xyXG5pbXBvcnQgRGFzaGJvYXJkIGZyb20gJy4vY29tcG9uZW50cy9hZG1pbi9kYXNoYm9hcmQvZGFzaGJvYXJkJztcclxuaW1wb3J0IERhc2hib2FyZFNpZGVEcmF3ZXIgZnJvbSAnLi9jb21wb25lbnRzL2FkbWluL2Rhc2hib2FyZC9kYXNoYm9hcmQtc2lkZS1kcmF3ZXInO1xyXG5pbXBvcnQgQWRtaW5MYXlvdXQgZnJvbSAnLi9jb21wb25lbnRzL2FkbWluL2xheW91dC9BZG1pbkxheW91dCc7XHJcbmltcG9ydCBHbG9iYWxTdHlsZVNoZWV0IGZyb20gJy4uL3N0eWxlU2hlZXQnO1xyXG5pbXBvcnQgTXVoYWxpa0NvbmZpZyBmcm9tICcuLi9zZGsvbXVoYWxpay5jb25maWcnXHJcbmltcG9ydCB7IGNoZWN0QXV0aCwgcmVtb3ZlVG9rZW5Gcm9tU3RvcmFnZSwgZ2V0VG9rZW5Gcm9tU3RvcmFnZSB9IGZyb20gJy4uL3Nkay9jb3JlL2F1dGhlbnRpY2F0aW9uLXNlcnZpY2UnO1xyXG5cclxuY29uc3QgQmFja0Ryb3AgPSBwcm9wcyA9PiAoXHJcbiAgICA8ZGl2PlxyXG4gICAgICAgIDxkaXYgb25DbGljaz17cHJvcHMuY2xpY2t9PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICAgdG9wOiAwO1xyXG4gICAgICAgICAgICAgbGVmdDogMDtcclxuICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4zKTtcclxuICAgICAgICAgICAgIHotaW5kZXg6IDEwMDtcclxuICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICA8L2Rpdj5cclxuKVxyXG5cclxubGV0IHRva2VuID0gJydcclxuY2xhc3MgQWRtaW4gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgICAgICBzdXBlcihwcm9wcyk7XHJcbiAgICAgICAgdGhpcy5hdXRoVXNlcigpXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICAgICAgc2lkZURyYXdlck9wZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBzaG93V3JhcHBlcjogdHJ1ZSxcclxuXHJcbiAgICAgICAgICAgIGNhdGVnb3JpZXM6IFtdLFxyXG4gICAgICAgICAgICBzdWJDYXRlZ29yaWVzOiBbXSxcclxuICAgICAgICAgICAgZmllbGRzOiBbXSxcclxuICAgICAgICAgICAgand0X3Rva2VuOiAnJyxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKGN0eCkge1xyXG4gICAgLy8gICAgIGNvbnN0IHVybCA9IE11aGFsaWtDb25maWcuUEFUSCArICcvYXBpL2NhdGVnb3JpZXMvY2F0ZWdvcmllcyc7XHJcbiAgICAvLyAgICAgbGV0IGRhdGEgPSBbXVxyXG4gICAgLy8gICAgIGF3YWl0IGF4aW9zLmdldCh1cmwpLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAvLyAgICAgICAgIGRhdGEucHVzaCh7IGNhdGVnb3JpZXM6IHJlc3BvbnNlLmRhdGEuY2F0ZWdvcmllcy5kb2NzIH0pXHJcbiAgICAvLyAgICAgICAgIC8vIGRhdGEucHVzaCh7IHN1YkNhdGVnb3JpZXM6IHJlc3BvbnNlLmRhdGEuc3ViX2NhdGVnb3J5LmRvY3MgfSlcclxuICAgIC8vICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ0NhdGVyb3JpZXMgRmV0Y2hpZyBFcnJvcjogJywgZXJyb3IpXHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vICAgICByZXR1cm4gZGF0YVxyXG4gICAgLy8gfVxyXG4gICAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKSB7XHJcbiAgICAgICAgdG9rZW4gPSBhd2FpdCBnZXRUb2tlbkZyb21TdG9yYWdlKClcclxuXHJcbiAgICAgICAgY29uc3QgdXJsID0gTXVoYWxpa0NvbmZpZy5QQVRIICsgJy9hcGkvY2F0ZWdvcmllcy9jYXRlZ29yaWVzJztcclxuICAgICAgICBjb25zdCBjdXJyZW50Q29tcG9uZW50ID0gdGhpcztcclxuICAgICAgICBhd2FpdCBheGlvcy5nZXQodXJsLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ2F1dGhvcml6YXRpb24nOiB0b2tlbiB9XHJcbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzOiB0aGlzLnByb3BzLmRhdGEuY2F0ZWdvcnkuZG9jcyxcclxuICAgICAgICAgICAgICAgIHN1YkNhdGVnb3JpZXM6IHRoaXMucHJvcHMuZGF0YS5zdWJfY2F0ZWdvcnkuZG9jc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NhdGVyb3JpZXMgRmV0Y2hpZyBFcnJvcjogJywgZXJyb3IpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBmdW5jdGlvbiBnZXRDYXRlZ29yaWVzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KE11aGFsaWtDb25maWcuUEFUSCArICcvYXBpL2NhdGVnb3JpZXMvY2F0ZWdvcmllcycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRGaWVsZHMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoTXVoYWxpa0NvbmZpZy5QQVRIICsgJy9hcGkvY2F0ZWdvcmllcy9maWVsZHMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF4aW9zLmFsbChbZ2V0Q2F0ZWdvcmllcygpLCBnZXRGaWVsZHMoKV0pXHJcbiAgICAgICAgICAgIC50aGVuKGF4aW9zLnNwcmVhZChmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM6IHJlc3BvbnNlWzBdLmRhdGEuY2F0ZWdvcnkuZG9jcyxcclxuICAgICAgICAgICAgICAgICAgICBzdWJDYXRlZ29yaWVzOiByZXNwb25zZVswXS5kYXRhLnN1Yl9jYXRlZ29yeS5kb2NzLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkczogcmVzcG9uc2VbMV0uZGF0YS5zdWJfY2F0ZWdvcnkuZG9jc1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSkpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SUjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF1dGhVc2VyKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBqd3RfdG9rZW46IGF3YWl0IGNoZWN0QXV0aCgnYWRtaW4nKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3ZXJUb2dnbGVDbGlja0hhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShwcmV2U3RhdGUgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4geyBzaWRlRHJhd2VyT3BlbjogIXByZXZTdGF0ZS5zaWRlRHJhd2VyT3BlbiB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFNob3dXcmFwcGVyQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgc2hvd1dyYXBwZXI6ICFwcmV2U3RhdGUuc2hvd1dyYXBwZXIgfTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgYmFja2Ryb3BDbGlja0hhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNpZGVEcmF3ZXJPcGVuOiBmYWxzZSB9KTtcclxuICAgIH07XHJcblxyXG4gICAgbG9nb3V0KCkge1xyXG4gICAgICAgIHJlbW92ZVRva2VuRnJvbVN0b3JhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgbGV0IGJhY2tkcm9wO1xyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNpZGVEcmF3ZXJPcGVuKSB7XHJcbiAgICAgICAgICAgIGJhY2tkcm9wID0gPEJhY2tEcm9wIGNsaWNrPXt0aGlzLmJhY2tkcm9wQ2xpY2tIYW5kbGVyfSAvPjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2JldGE6JywgdGhpcy5wcm9wcy5kYXRhKVxyXG5cclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZXMuYm9keX0+XHJcbiAgICAgICAgICAgICAgICB7LyogPEFkbWluTGF5b3V0PiAqL31cclxuICAgICAgICAgICAgICAgIDxEYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzPXt0aGlzLnN0YXRlLmNhdGVnb3JpZXN9XHJcbiAgICAgICAgICAgICAgICAgICAgc3ViQ2F0ZWdvcmllcz17dGhpcy5zdGF0ZS5zdWJDYXRlZ29yaWVzfVxyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuPXt0aGlzLnN0YXRlLmp3dF90b2tlbn1cclxuICAgICAgICAgICAgICAgICAgICBzaG93PXt0aGlzLnN0YXRlLnNob3dXcmFwcGVyfVxyXG4gICAgICAgICAgICAgICAgICAgIGRyYXdlckNsaWNrSGFuZGxlcj17dGhpcy5kcmF3ZXJUb2dnbGVDbGlja0hhbmRsZXJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlckJ0bkNsaWNrSGFuZGxlcj17dGhpcy5TaG93V3JhcHBlckNsaWNrSGFuZGxlcn0gbG9nb3V0Q2xpY2tIYW5kbGVyPXt0aGlzLmxvZ291dH0gLz5cclxuICAgICAgICAgICAgICAgIDxEYXNoYm9hcmRTaWRlRHJhd2VyIHRva2VuPXt0aGlzLnN0YXRlLmp3dF90b2tlbn0gc2hvdz17dGhpcy5zdGF0ZS5zaWRlRHJhd2VyT3Blbn1cclxuICAgICAgICAgICAgICAgICAgICBjbGljaz17dGhpcy5iYWNrZHJvcENsaWNrSGFuZGxlcn0gbG9nb3V0Q2xpY2tIYW5kbGVyPXt0aGlzLmxvZ291dH0gLz5cclxuICAgICAgICAgICAgICAgIHtiYWNrZHJvcH1cclxuICAgICAgICAgICAgICAgIHsvKiA8L0FkbWluTGF5b3V0PiAqL31cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qgc3R5bGVzID0ge1xyXG4gICAgYm9keToge1xyXG4gICAgICAgIGJhY2tncm91bmQ6IGAke0dsb2JhbFN0eWxlU2hlZXQuYm9keV9jb2xvcn1gLFxyXG4gICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxyXG4gICAgICAgIHRvcDogJzAnLFxyXG4gICAgICAgIGxlZnQ6ICcwJyxcclxuICAgICAgICByaWdodDogJzAnLFxyXG4gICAgICAgIG1pbkhlaWdodDogJzEwMHZoJyxcclxuICAgIH0sXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFkbWluOyJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\MudassirR\\\\\\\\Desktop\\\\\\\\Muhalik\\\\\\\\New folder\\\\\\\\muhalikweb\\\\\\\\src\\\\\\\\pages\\\\\\\\admin.js */\"));\n};\n\nvar token = '';\n\nvar Admin = /*#__PURE__*/function (_Component) {\n  _inherits(Admin, _Component);\n\n  var _super = _createSuper(Admin);\n\n  function Admin(props) {\n    var _this2;\n\n    _classCallCheck(this, Admin);\n\n    _this2 = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this2), \"drawerToggleClickHandler\", function () {\n      _this2.setState(function (prevState) {\n        return {\n          sideDrawerOpen: !prevState.sideDrawerOpen\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"ShowWrapperClickHandler\", function () {\n      _this2.setState(function (prevState) {\n        return {\n          showWrapper: !prevState.showWrapper\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this2), \"backdropClickHandler\", function () {\n      _this2.setState({\n        sideDrawerOpen: false\n      });\n    });\n\n    _this2.authUser();\n\n    _this2.state = {\n      sideDrawerOpen: false,\n      showWrapper: true,\n      categories: [],\n      subCategories: [],\n      fields: [],\n      jwt_token: ''\n    };\n    return _this2;\n  } // static async getInitialProps(ctx) {\n  //     const url = MuhalikConfig.PATH + '/api/categories/categories';\n  //     let data = []\n  //     await axios.get(url).then((response) => {\n  //         data.push({ categories: response.data.categories.docs })\n  //         // data.push({ subCategories: response.data.sub_category.docs })\n  //     }).catch((error) => {\n  //         console.log('Caterories Fetchig Error: ', error)\n  //     })\n  //     return data\n  // }\n\n\n  _createClass(Admin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      var url, currentComponent, getCategories, getFields;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              getFields = function _getFields() {\n                return axios.get(MuhalikConfig.PATH + '/api/categories/fields');\n              };\n\n              getCategories = function _getCategories() {\n                return axios.get(MuhalikConfig.PATH + '/api/categories/categories');\n              };\n\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(getTokenFromStorage());\n\n            case 4:\n              token = _context.sent;\n              url = MuhalikConfig.PATH + '/api/categories/categories';\n              currentComponent = this;\n              _context.next = 9;\n              return _regeneratorRuntime.awrap(axios.get(url, {\n                headers: {\n                  'authorization': token\n                }\n              }).then(function (response) {\n                _this3.setState({\n                  categories: _this3.props.data.category.docs,\n                  subCategories: _this3.props.data.sub_category.docs\n                });\n              })[\"catch\"](function (error) {\n                console.log('Caterories Fetchig Error: ', error);\n              }));\n\n            case 9:\n              axios.all([getCategories(), getFields()]).then(axios.spread(function (response) {\n                this.setState({\n                  categories: response[0].data.category.docs,\n                  subCategories: response[0].data.sub_category.docs,\n                  fields: response[1].data.sub_category.docs\n                });\n              }))[\"catch\"](function (error) {\n                console.log('ERRORR:', error);\n              });\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"authUser\",\n    value: function authUser() {\n      return _regeneratorRuntime.async(function authUser$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.t0 = this;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(chectAuth('admin'));\n\n            case 3:\n              _context2.t1 = _context2.sent;\n              _context2.t2 = {\n                jwt_token: _context2.t1\n              };\n\n              _context2.t0.setState.call(_context2.t0, _context2.t2);\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      removeTokenFromStorage();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var backdrop;\n\n      if (this.state.sideDrawerOpen) {\n        backdrop = __jsx(BackDrop, {\n          click: this.backdropClickHandler,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 24\n          }\n        });\n      }\n\n      console.log('beta:', this.props.data);\n      return __jsx(\"div\", {\n        style: styles.body,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }\n      }, __jsx(Dashboard, {\n        categories: this.state.categories,\n        subCategories: this.state.subCategories,\n        token: this.state.jwt_token,\n        show: this.state.showWrapper,\n        drawerClickHandler: this.drawerToggleClickHandler,\n        wrapperBtnClickHandler: this.ShowWrapperClickHandler,\n        logoutClickHandler: this.logout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }\n      }), __jsx(DashboardSideDrawer, {\n        token: this.state.jwt_token,\n        show: this.state.sideDrawerOpen,\n        click: this.backdropClickHandler,\n        logoutClickHandler: this.logout,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }), backdrop);\n    }\n  }]);\n\n  return Admin;\n}(Component);\n\nvar styles = {\n  body: {\n    background: \"\".concat(GlobalStyleSheet.body_color),\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    right: '0',\n    minHeight: '100vh'\n  }\n};\nexport default Admin;","map":{"version":3,"sources":["C:/Users/MudassirR/Desktop/Muhalik/New folder/muhalikweb/src/pages/admin.js"],"names":["React","Component","Router","axios","Dashboard","DashboardSideDrawer","AdminLayout","GlobalStyleSheet","MuhalikConfig","chectAuth","removeTokenFromStorage","getTokenFromStorage","BackDrop","props","click","token","Admin","setState","prevState","sideDrawerOpen","showWrapper","authUser","state","categories","subCategories","fields","jwt_token","getCategories","getFields","get","PATH","url","currentComponent","headers","then","response","data","category","docs","sub_category","error","console","log","all","spread","backdrop","backdropClickHandler","styles","body","drawerToggleClickHandler","ShowWrapperClickHandler","logout","background","body_color","position","top","left","right","minHeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Router from 'next/router'\r\nimport axios from 'axios'\r\nimport Dashboard from './components/admin/dashboard/dashboard';\r\nimport DashboardSideDrawer from './components/admin/dashboard/dashboard-side-drawer';\r\nimport AdminLayout from './components/admin/layout/AdminLayout';\r\nimport GlobalStyleSheet from '../styleSheet';\r\nimport MuhalikConfig from '../sdk/muhalik.config'\r\nimport { chectAuth, removeTokenFromStorage, getTokenFromStorage } from '../sdk/core/authentication-service';\r\n\r\nconst BackDrop = props => (\r\n    <div>\r\n        <div onClick={props.click}>\r\n        </div>\r\n        <style jsx>{`\r\n             position: fixed;\r\n             width: 100%;\r\n             height: 100%;\r\n             top: 0;\r\n             left: 0;\r\n             background: rgba(0, 0, 0, 0.3);\r\n             z-index: 100;\r\n        `}</style>\r\n    </div>\r\n)\r\n\r\nlet token = ''\r\nclass Admin extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.authUser()\r\n        this.state = {\r\n            sideDrawerOpen: false,\r\n            showWrapper: true,\r\n\r\n            categories: [],\r\n            subCategories: [],\r\n            fields: [],\r\n            jwt_token: '',\r\n        }\r\n    }\r\n    // static async getInitialProps(ctx) {\r\n    //     const url = MuhalikConfig.PATH + '/api/categories/categories';\r\n    //     let data = []\r\n    //     await axios.get(url).then((response) => {\r\n    //         data.push({ categories: response.data.categories.docs })\r\n    //         // data.push({ subCategories: response.data.sub_category.docs })\r\n    //     }).catch((error) => {\r\n    //         console.log('Caterories Fetchig Error: ', error)\r\n    //     })\r\n    //     return data\r\n    // }\r\n    async componentDidMount() {\r\n        token = await getTokenFromStorage()\r\n\r\n        const url = MuhalikConfig.PATH + '/api/categories/categories';\r\n        const currentComponent = this;\r\n        await axios.get(url, {\r\n            headers: { 'authorization': token }\r\n        }).then((response) => {\r\n            this.setState({\r\n                categories: this.props.data.category.docs,\r\n                subCategories: this.props.data.sub_category.docs\r\n            });\r\n        }).catch((error) => {\r\n            console.log('Caterories Fetchig Error: ', error)\r\n        })\r\n        function getCategories() {\r\n            return axios.get(MuhalikConfig.PATH + '/api/categories/categories');\r\n        }\r\n        function getFields() {\r\n            return axios.get(MuhalikConfig.PATH + '/api/categories/fields');\r\n        }\r\n\r\n        axios.all([getCategories(), getFields()])\r\n            .then(axios.spread(function (response) {\r\n                this.setState({\r\n                    categories: response[0].data.category.docs,\r\n                    subCategories: response[0].data.sub_category.docs,\r\n                    fields: response[1].data.sub_category.docs\r\n                })\r\n            })).catch(function (error) {\r\n                console.log('ERRORR:', error);\r\n            });\r\n    }\r\n\r\n    async authUser() {\r\n        this.setState({ jwt_token: await chectAuth('admin') });\r\n    }\r\n\r\n    drawerToggleClickHandler = () => {\r\n        this.setState(prevState => {\r\n            return { sideDrawerOpen: !prevState.sideDrawerOpen };\r\n        });\r\n    };\r\n    ShowWrapperClickHandler = () => {\r\n        this.setState(prevState => {\r\n            return { showWrapper: !prevState.showWrapper };\r\n        });\r\n    };\r\n\r\n    backdropClickHandler = () => {\r\n        this.setState({ sideDrawerOpen: false });\r\n    };\r\n\r\n    logout() {\r\n        removeTokenFromStorage();\r\n    }\r\n\r\n    render() {\r\n        let backdrop;\r\n        if (this.state.sideDrawerOpen) {\r\n            backdrop = <BackDrop click={this.backdropClickHandler} />;\r\n        }\r\n        console.log('beta:', this.props.data)\r\n\r\n        return (\r\n            <div style={styles.body}>\r\n                {/* <AdminLayout> */}\r\n                <Dashboard\r\n                    categories={this.state.categories}\r\n                    subCategories={this.state.subCategories}\r\n                    token={this.state.jwt_token}\r\n                    show={this.state.showWrapper}\r\n                    drawerClickHandler={this.drawerToggleClickHandler\r\n                    }\r\n                    wrapperBtnClickHandler={this.ShowWrapperClickHandler} logoutClickHandler={this.logout} />\r\n                <DashboardSideDrawer token={this.state.jwt_token} show={this.state.sideDrawerOpen}\r\n                    click={this.backdropClickHandler} logoutClickHandler={this.logout} />\r\n                {backdrop}\r\n                {/* </AdminLayout> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst styles = {\r\n    body: {\r\n        background: `${GlobalStyleSheet.body_color}`,\r\n        position: 'absolute',\r\n        top: '0',\r\n        left: '0',\r\n        right: '0',\r\n        minHeight: '100vh',\r\n    },\r\n}\r\n\r\nexport default Admin;"]},"metadata":{},"sourceType":"module"}