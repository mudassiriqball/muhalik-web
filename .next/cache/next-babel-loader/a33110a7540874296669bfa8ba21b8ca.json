{"ast":null,"code":"import _Array$from from \"@babel/runtime-corejs2/core-js/array/from\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n// const Discounts = () => {\n//     return (\n//         <div>\n//                 <p>This is Discount page</p>\n//         </div>\n//     );\n// }\n// export default Discounts;\nimport React, { Component } from 'react';\nimport Spinner from './Spinner';\nimport Images from './Images';\nimport Buttons from './react-image-upload-client-buttons';\n\nvar Discounts = /*#__PURE__*/function (_Component) {\n  _inherits(Discounts, _Component);\n\n  function Discounts() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Discounts);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Discounts)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      uploading: false,\n      images: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (e) {\n      var files = _Array$from(e.target.files);\n\n      _this.setState({\n        uploading: true\n      });\n\n      var formData = new FormData();\n      files.forEach(function (file, i) {\n        formData.append(i, file);\n      }); // fetch(`${API_URL}/image-upload`, {\n      //     method: 'POST',\n      //     body: formData\n      // }).then(res => res.json()).then(images => {\n      //     this.setState({\n      //         uploading: false,\n      //         images\n      //     })\n      // })\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"removeImage\", function (id) {\n      _this.setState({\n        images: _this.state.images.filter(function (image) {\n          return image.public_id !== id;\n        })\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Discounts, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          uploading = _this$state.uploading,\n          images = _this$state.images;\n\n      var content = function content() {\n        switch (true) {\n          case uploading:\n            return __jsx(Spinner, null);\n\n          case images.length > 0:\n            return __jsx(Images, {\n              images: images,\n              removeImage: _this2.removeImage\n            });\n\n          default:\n            return __jsx(Buttons, {\n              onChange: _this2.onChange\n            });\n        }\n      };\n\n      return __jsx(\"div\", null, __jsx(\"div\", {\n        className: \"buttons\"\n      }, content()));\n    }\n  }]);\n\n  return Discounts;\n}(Component);\n\nexport { Discounts as default };","map":{"version":3,"sources":["C:/Users/MudassirR/Desktop/FYP/muhalikweb/pages/components/vendor/dashboard/dashboard-tabs-content/discounts.js"],"names":["React","Component","Spinner","Images","Buttons","Discounts","uploading","images","e","files","target","setState","formData","FormData","forEach","file","i","append","id","state","filter","image","public_id","content","length","removeImage","onChange"],"mappings":";;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,OAAP,MAAoB,qCAApB;;IAEqBC,S;;;;;;;;;;;;;;;;4DAET;AACJC,MAAAA,SAAS,EAAE,KADP;AAEJC,MAAAA,MAAM,EAAE;AAFJ,K;;+DAKG,UAAAC,CAAC,EAAI;AACZ,UAAMC,KAAK,GAAG,YAAWD,CAAC,CAACE,MAAF,CAASD,KAApB,CAAd;;AACA,YAAKE,QAAL,CAAc;AAAEL,QAAAA,SAAS,EAAE;AAAb,OAAd;;AAEA,UAAMM,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEAJ,MAAAA,KAAK,CAACK,OAAN,CAAc,UAACC,IAAD,EAAOC,CAAP,EAAa;AACvBJ,QAAAA,QAAQ,CAACK,MAAT,CAAgBD,CAAhB,EAAmBD,IAAnB;AACH,OAFD,EANY,CAUZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,K;;kEAEa,UAAAG,EAAE,EAAI;AAChB,YAAKP,QAAL,CAAc;AACVJ,QAAAA,MAAM,EAAE,MAAKY,KAAL,CAAWZ,MAAX,CAAkBa,MAAlB,CAAyB,UAAAC,KAAK;AAAA,iBAAIA,KAAK,CAACC,SAAN,KAAoBJ,EAAxB;AAAA,SAA9B;AADE,OAAd;AAGH,K;;;;;;;6BAEQ;AAAA;;AAAA,wBACyB,KAAKC,KAD9B;AAAA,UACGb,SADH,eACGA,SADH;AAAA,UACcC,MADd,eACcA,MADd;;AAGL,UAAMgB,OAAO,GAAG,SAAVA,OAAU,GAAM;AAClB,gBAAQ,IAAR;AACI,eAAKjB,SAAL;AACI,mBAAO,MAAC,OAAD,OAAP;;AACJ,eAAKC,MAAM,CAACiB,MAAP,GAAgB,CAArB;AACI,mBAAO,MAAC,MAAD;AAAQ,cAAA,MAAM,EAAEjB,MAAhB;AAAwB,cAAA,WAAW,EAAE,MAAI,CAACkB;AAA1C,cAAP;;AACJ;AACI,mBAAO,MAAC,OAAD;AAAS,cAAA,QAAQ,EAAE,MAAI,CAACC;AAAxB,cAAP;AANR;AAQH,OATD;;AAWA,aACI,mBACI;AAAK,QAAA,SAAS,EAAC;AAAf,SACKH,OAAO,EADZ,CADJ,CADJ;AAOH;;;;EAvDkCtB,S;;SAAlBI,S","sourcesContent":["\r\n// const Discounts = () => {\r\n//     return (\r\n//         <div>\r\n//                 <p>This is Discount page</p>\r\n//         </div>\r\n//     );\r\n// }\r\n\r\n// export default Discounts;\r\n\r\n\r\n\r\nimport React, { Component } from 'react'\r\nimport Spinner from './Spinner'\r\nimport Images from './Images'\r\nimport Buttons from './react-image-upload-client-buttons'\r\n\r\nexport default class Discounts extends Component {\r\n\r\n    state = {\r\n        uploading: false,\r\n        images: []\r\n    }\r\n\r\n    onChange = e => {\r\n        const files = Array.from(e.target.files)\r\n        this.setState({ uploading: true })\r\n\r\n        const formData = new FormData()\r\n\r\n        files.forEach((file, i) => {\r\n            formData.append(i, file)\r\n        })\r\n\r\n        // fetch(`${API_URL}/image-upload`, {\r\n        //     method: 'POST',\r\n        //     body: formData\r\n        // }).then(res => res.json()).then(images => {\r\n        //     this.setState({\r\n        //         uploading: false,\r\n        //         images\r\n        //     })\r\n        // })\r\n    }\r\n\r\n    removeImage = id => {\r\n        this.setState({\r\n            images: this.state.images.filter(image => image.public_id !== id)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { uploading, images } = this.state\r\n\r\n        const content = () => {\r\n            switch (true) {\r\n                case uploading:\r\n                    return <Spinner />\r\n                case images.length > 0:\r\n                    return <Images images={images} removeImage={this.removeImage} />\r\n                default:\r\n                    return <Buttons onChange={this.onChange} />\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className='buttons'>\r\n                    {content()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}