{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Dashboard from './components/vendor/dashboard/dashboard';\nimport DashboardSideDrawer from './components/vendor/dashboard/dashboard-side-drawer';\nimport GlobalStyleSheet from '../styleSheet';\nimport { chectAuth, removeTokenFromStorage, getTokenFromStorage } from '../sdk/core/authentication-service';\nimport MuhalikConfig from '../sdk/muhalik.config';\n\nvar BackDrop = function BackDrop(props) {\n  return __jsx(\"div\", {\n    className: \"jsx-3404600223\"\n  }, __jsx(\"div\", {\n    onClick: props.click,\n    className: \"jsx-3404600223\"\n  }), __jsx(_JSXStyle, {\n    id: \"3404600223\"\n  }, [\".jsx-3404600223{position:fixed;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,0.3);z-index:100;}\"]));\n};\n\nvar Vendor = /*#__PURE__*/function (_Component) {\n  _inherits(Vendor, _Component);\n\n  var _super = _createSuper(Vendor);\n\n  function Vendor(props) {\n    var _this;\n\n    _classCallCheck(this, Vendor);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"drawerToggleClickHandler\", function () {\n      _this.setState(function (prevState) {\n        return {\n          sideDrawerOpen: !prevState.sideDrawerOpen\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ShowWrapperClickHandler\", function () {\n      _this.setState(function (prevState) {\n        return {\n          showWrapper: !prevState.showWrapper\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"backdropClickHandler\", function () {\n      _this.setState({\n        sideDrawerOpen: false\n      });\n    });\n\n    _this.authUser();\n\n    _this.state = {\n      sideDrawerOpen: false,\n      showWrapper: true,\n      categories_list: [],\n      sub_categories_list: [],\n      fields_list: [],\n      field_requests_list: [],\n      token: '',\n      user_name: ''\n    };\n    return _this;\n  }\n\n  _createClass(Vendor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var url, _token, currentComponent, url_1;\n\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = MuhalikConfig.PATH + '/api/categories/categories';\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(getTokenFromStorage());\n\n            case 3:\n              _token = _context.sent;\n              this.setState({\n                token: _token\n              });\n              currentComponent = this;\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(axios.get(url).then(function (response) {\n                currentComponent.setState({\n                  categories_list: response.data.category.docs,\n                  sub_categories_list: response.data.sub_category.docs\n                });\n              })[\"catch\"](function (error) {\n                console.log('Caterories Fetchig Error: ', error);\n              }));\n\n            case 8:\n              url_1 = MuhalikConfig.PATH + '/api/categories/fields';\n              _context.next = 11;\n              return _regeneratorRuntime.awrap(axios.get(url_1).then(function (response) {\n                currentComponent.setState({\n                  fields_list: response.data.data.docs,\n                  field_requests_list: response.data.data.docs\n                });\n              })[\"catch\"](function (error) {\n                alert('F error: ', error);\n              }));\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"authUser\",\n    value: function authUser() {\n      return _regeneratorRuntime.async(function authUser$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.t0 = this;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(chectAuth('vendor'));\n\n            case 3:\n              _context2.t1 = _context2.sent;\n              _context2.t2 = {\n                user_name: _context2.t1\n              };\n\n              _context2.t0.setState.call(_context2.t0, _context2.t2);\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"logout\",\n    value: function logout() {\n      removeTokenFromStorage();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var backdrop;\n\n      if (this.state.sideDrawerOpen) {\n        backdrop = __jsx(BackDrop, {\n          click: this.backdropClickHandler\n        });\n      }\n\n      return __jsx(\"div\", {\n        style: styles.body\n      }, __jsx(Dashboard, {\n        categories_list: this.state.categories_list,\n        sub_categories_list: this.state.sub_categories_list,\n        field_requests_list: this.state.field_requests_list,\n        fields_list: this.state.fields_list,\n        token: this.state.token,\n        user_name: this.state.user_name,\n        show: this.state.showWrapper,\n        drawerClickHandler: this.drawerToggleClickHandler,\n        wrapperBtnClickHandler: this.ShowWrapperClickHandler,\n        logoutClickHandler: this.logout\n      }), __jsx(DashboardSideDrawer, {\n        categories_list: this.state.categories_list,\n        sub_categories_list: this.state.sub_categories_list,\n        field_requests_list: this.state.field_requests_list,\n        fields_list: this.state.fields_list,\n        token: this.state.token,\n        user_name: this.state.user_name,\n        show: this.state.sideDrawerOpen,\n        click: this.backdropClickHandler,\n        logoutClickHandler: this.logout\n      }), backdrop);\n    }\n  }]);\n\n  return Vendor;\n}(Component);\n\nvar styles = {\n  body: {\n    background: \"\".concat(GlobalStyleSheet.body_color),\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    right: '0',\n    minHeight: '100vh'\n  }\n};\nexport default Vendor;","map":null,"metadata":{},"sourceType":"module"}