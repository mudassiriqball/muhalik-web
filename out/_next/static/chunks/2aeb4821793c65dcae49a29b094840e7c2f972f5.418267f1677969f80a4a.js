(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{yXNp:function(e,t,a){"use strict";a.r(t);var l=a("o0o1"),i=a.n(l),s=a("1OyB"),n=a("vuIU"),r=a("JX7q"),o=a("Ji7U"),d=a("md7G"),u=a("foSv"),c=a("rePB"),h=a("QojX"),f=a("zUrK"),m=a("cWnB"),v=a("T/rR"),p=a("JI6e"),g=(a("IP2g"),a("wHSu")),b=a("twK/"),y=a("q1tI"),w=a.n(y),F=a("VbX6"),C=a("bWZ2"),k=a("vDqi"),x=a.n(k),S=a("f6Jz"),_=a("abLf"),R=a("qTQu"),L=a("/JS1"),q=a("vvUq"),M=w.a.createElement;function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=Object(u.a)(e);if(t){var i=Object(u.a)(this).constructor;a=Reflect.construct(l,arguments,i)}else a=l.apply(this,arguments);return Object(d.a)(this,a)}}var z=[],P="",j=function(e){Object(o.a)(a,e);var t=D(a);function a(e){var l;return Object(s.a)(this,a),l=t.call(this,e),Object(c.a)(Object(r.a)(l),"handleFieldRequestChange",(function(e,t){var a=[];(a=Object.assign([],l.state.fieldRequestList))[t].value=e.target.value,""!=e.target.value&&e.target.value.length<=20&&e.target.value.length>=3?a[t].error="":a[t].error="Value must be 3-20 characters",l.setState({fieldRequestList:a})})),Object(c.a)(Object(r.a)(l),"handleFieldChange",(function(e,t){var a=[];(a=Object.assign([],l.state.fieldList))[t].value=e.target.value,""!=e.target.value&&e.target.value.length<=20&&e.target.value.length>=3?a[t].error="":a[t].error="Value must be 3-20 characters",l.setState({fieldList:a})})),l.state={isLoading:!1,showToast:!1,showConfirmDeleteModal:!1,isFieldDelete:"",delete_field_id:"",delete_field_name:"",delete_field_index:"",fieldValue:"",error:"",fieldList:[],fieldRequestList:[],editRequestedField:"",showModalMessage:"",showModal:!1,filterStr:""},l}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e,t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.awrap(Object(q.c)());case 2:return P=a.sent,e=F.a.PATH+"/api/categories/fields",t=this,a.next=7,i.a.awrap(x.a.get(e,{headers:{authorization:P}}).then((function(e){console.log("aaaaaa:",e.data.data.docs),t.setState({fieldList:e.data.data.docs}),t.setState({fieldRequestList:e.data.data.docs}),z=e.data.data.docs})).catch((function(e){alert("F error: ",e)})));case 7:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"addField",value:function(e,t){var a,l;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return a=F.a.PATH+"/api/categories/field",[],l={label:e,value:e},s.next=5,i.a.awrap(x.a.post(a,{data:l},{headers:{authorization:P}}).then((function(e){t.setState({isLoading:!1}),t.setState({showModalMessage:"Product Field Added Successfully"}),t.setState({showModal:!0})})).catch((function(e){t.setState({isLoading:!1}),alert("Error: ",e.response.data.message)})));case 5:case"end":return s.stop()}}),null,null,null,Promise)}},{key:"handleFilterStrChange",value:function(e){if(this.setState({filterStr:e.target.value}),""==e.target.value)this.setState({fieldList:z});else{var t=[];this.state.fieldList.filter((function(a){a.value.toLowerCase().includes(e.target.value.toLowerCase())&&t.push(a)})),this.setState({fieldList:t})}}},{key:"handleSubmit",value:function(){""==this.state.fieldValue?this.setState({error:"Enter Value First"}):(this.setState({isLoading:!0}),this.setState({error:""}),this.addField(this.state.fieldValue,this))}},{key:"handleEditFieldRequestClick",value:function(e){var t,a;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=[],t=Object.assign([],this.state.fieldRequestList),(a={}).value=t[e].value,a.entry_date=t[e].entry_date,a.label=!1,a.prevVal=t[e].value,a.error="",t[e]=a,l.next=11,i.a.awrap(this.setState({fieldRequestList:t}));case 11:case"end":return l.stop()}}),null,this,null,Promise)}},{key:"handleCancelFieldRequestClick",value:function(e){var t=[];(t=Object.assign([],this.state.fieldRequestList))[e].value=t[e].prevVal,t[e].label=!0,t[e].error="",this.setState({fieldRequestList:t})}},{key:"handleUpdateFieldRequestClick",value:function(e){var t=[];(t=Object.assign([],this.state.fieldRequestList))[e].value==t[e].prevVal?(t[e].error="Enter Different Value",this.setState({fieldRequestList:t})):(this.setState({fieldRequestList:t,showModalMessage:"Product Field Updated Successfully",showModal:!0}),z=t)}},{key:"handleAddFieldRequestClick",value:function(e){var t,a,l,s;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=F.a.PATH+"/api/categories/field",a=[],a=Object.assign([],this.state.fieldRequestList),l=this,[],s={label:a[e].value,value:a[e].value},console.log("data:",s),n.next=9,i.a.awrap(x.a.post(t,{data:s},{headers:{authorization:P}}).then((function(t){a.splice(e,1),l.setState({fieldRequestList:a,showModalMessage:"Product Field Added Successfully",showModal:!0})})).catch((function(e){try{alert("Error: ",e.response.data.message)}catch(t){alert("Add Field Failed "),console.log("Request Failed:",e)}})));case 9:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"handleDeleteFieldRequestClick",value:function(){var e,t,a,l;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.state.delete_field_index,this.setState({showConfirmDeleteModal:!1}),t=[],a=this,t=Object.assign([],this.state.fieldRequestList),l=F.a.PATH+"/api/categories/field-request/".concat(t[e]._id),s.next=8,i.a.awrap(x.a.delete(l,{headers:{authorization:P}}).then((function(l){t.splice(e,1),a.setState({fieldRequestList:t,showModalMessage:"Product Request Field Discarded",showModal:!0}),z=t})).catch((function(e){try{alert("Error: ",e.response.data.message)}catch(t){alert("Delete Field Failed "),console.log("Request Failed:",e)}})));case 8:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"handleEditFieldClick",value:function(e){var t,a;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t=[],t=Object.assign([],this.state.fieldList),(a={}).value=t[e].value,a.label=!1,a.prevVal=t[e].value,a.error="",t[e]=a,l.next=10,i.a.awrap(this.setState({fieldList:t}));case 10:case"end":return l.stop()}}),null,this,null,Promise)}},{key:"handleCancelFieldClick",value:function(e){var t=[];(t=Object.assign([],this.state.fieldList))[e].value=t[e].prevVal,t[e].error="",t[e].label=!0,this.setState({fieldList:t})}},{key:"handleUpdateFieldClick",value:function(e){var t,a,l,s;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=[],(t=Object.assign([],this.state.fieldList))[e].value!=t[e].prevVal){n.next=7;break}t[e].error="Enter Different Value",this.setState({fieldList:t}),n.next=13;break;case 7:return a=this,[],l={value:t[e].value,label:t[e].value},s=F.a.PATH+"/api/categories/field/".concat(t[e]._id),n.next=13,i.a.awrap(x.a.put(s,{data:l},{headers:{authorization:P}}).then((function(l){t[e].label=t[e].value,t[e].prevVal=t[e].value,a.setState({fieldList:t,showModalMessage:"Product Field Updated Successfully",showModal:!0}),z=t})).catch((function(e){try{alert("Error: ",e.response.data.message)}catch(t){alert("Update field Failed"),console.log("Request Failed:",e)}})));case 13:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"handleDeleteFieldClick",value:function(){var e,t,a,l;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=this.state.delete_field_index,this.setState({showConfirmDeleteModal:!1}),t=[],a=this,t=Object.assign([],this.state.fieldList),l=F.a.PATH+"/api/categories/field/".concat(t[e]._id),s.next=8,i.a.awrap(x.a.delete(l,{headers:{authorization:P}}).then((function(l){t.splice(e,1),a.setState({fieldList:t,showModalMessage:"Product Field Deleted",showModal:!0}),z=t})).catch((function(e){try{alert("Error: ",e.response.data.message)}catch(t){console.log("Request Failed:",e)}})));case 8:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return M(w.a.Fragment,null,M(S.default,{onHide:function(t){return e.setState({showModal:!1})},show:this.state.showModal,header:"Success",message:this.state.showModalMessage,iconname:b.b,color:"#00b300"}),M(_.default,{onHide:function(){return e.setState({showConfirmDeleteModal:!1})},show:this.state.showConfirmDeleteModal,title:"Delete Add Field Request ?",_id:this.state.delete_field_id,name:this.state.delete_field_name,confirm:this.state.isFieldDelete?this.handleDeleteFieldClick.bind(this):this.handleDeleteFieldRequestClick.bind(this)}),M(R.default,{icon:g.r,title:" Admin Dashboard / Product Fields"}),M(L.default,{title:"Add New Field"},M(h.a.Group,null,M(f.a,null,M(h.a.Control,{type:"text",size:"sm",placeholder:"Enter Field Value",name:"sku",value:this.state.fieldValue,onChange:function(t){return e.setState({fieldValue:t.target.value})},isInvalid:this.state.error}),M(h.a.Control.Feedback,{type:"invalid"},this.state.error))),M(h.a.Group,null,M(m.a,{type:"submit",variant:"outline-primary",size:"sm",onClick:this.handleSubmit.bind(this),disabled:this.state.isLoading,block:!0,style:O.submit_btn},this.state.isLoading?"Uploading":"Add Field",this.state.isLoading?M(v.a,{animation:"grow",size:"sm"}):null))),M(L.default,{title:"Add Field Requests",notification:!0,badge:this.state.fieldRequestList.length},this.state.fieldRequestList.map((function(t,a){return M(h.a.Row,{key:a},M(h.a.Group,{as:p.a,lg:2,md:2,sm:3,xs:12},M(h.a.Control,{type:"text",size:"sm",name:"date",value:t.entry_date,disabled:!0})),M(h.a.Group,{as:p.a,lg:2,md:2,sm:3,xs:12},M(h.a.Control,{type:"text",size:"sm",name:"vendor",value:"Vendor Name",disabled:!0})),M("div",{className:"mr-auto"}),M(h.a.Group,{as:p.a,lg:4,md:4,sm:6,xs:12},M(f.a,null,M(h.a.Control,{type:"text",size:"sm",placeholder:"Enter Field Value",name:"sku",value:t.value,onChange:function(t){return e.handleFieldRequestChange(t,a)},isInvalid:t.error,disabled:t.label}),M(h.a.Control.Feedback,{type:"invalid"},t.error))),M("div",{className:"mr-auto"}),M(h.a.Group,{as:p.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},M(m.a,{type:"submit",variant:"outline-success",size:"sm",block:!0,style:O.submit_btn,onClick:function(){return t.label?e.handleEditFieldRequestClick(a):e.handleUpdateFieldRequestClick(a)},disabled:!t.label&&t.error},M("div",null,t.label?"Edit":"Update"))),M(h.a.Group,{as:p.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},M(m.a,{type:"submit",variant:"outline-primary",size:"sm",block:!0,style:O.submit_btn,onClick:function(){t.label?e.handleAddFieldRequestClick(a):e.handleCancelFieldRequestClick(a)}},M("div",null,t.label?"Add":"Cancel"))),M("div",{className:"mr-auto"}),M(h.a.Group,{as:p.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},M(m.a,{type:"submit",variant:"outline-danger",size:"sm",block:!0,style:O.submit_btn,onClick:function(){return e.setState({isFieldDelete:!1,showConfirmDeleteModal:!0,delete_field_id:t._id,delete_field_name:t.value,delete_field_index:a})}},M("div",null,"Discard"))))}))),M(L.default,{title:"All Fields"},M(h.a.Row,{style:{margin:"0% 5%"}},M(h.a.Group,{as:p.a},M(f.a,null,M(h.a.Control,{type:"text",size:"sm",placeholder:"Enter Field Value",name:"sku",value:this.state.filterStr,onChange:function(t){return e.handleFilterStrChange(t)}})))),M("hr",null),this.state.fieldList&&this.state.fieldList.map((function(t,a){return M(h.a.Row,{key:a},M(h.a.Group,{as:p.a,lg:2,md:2,sm:6,xs:12},M(h.a.Control,{type:"text",size:"sm",name:"sku",value:t.entry_date,disabled:!0})),M("div",{className:"mr-auto"}),M(h.a.Group,{as:p.a,lg:6,md:6,sm:6,xs:12},M(f.a,null,M(h.a.Control,{type:"text",size:"sm",placeholder:"Enter Field Value",name:"sku",value:t.value,onChange:function(t){return e.handleFieldChange(t,a)},disabled:t.label,isInvalid:t.error}),M(h.a.Control.Feedback,{type:"invalid"},t.error))),M("div",{className:"mr-auto"}),M(h.a.Group,{as:p.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},M(m.a,{type:"submit",variant:"outline-success",size:"sm",block:!0,style:O.submit_btn,onClick:t.label?function(){return e.handleEditFieldClick(a)}:function(){return e.handleUpdateFieldClick(a)},disabled:!t.label&&t.error},M("div",null,t.label?"Edit":"Update"))),M("div",{className:"mr-auto"}),M(h.a.Group,{as:p.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},M(m.a,{type:"submit",variant:t.label?"outline-danger":"outline-primary",size:"sm",block:!0,style:O.submit_btn,onClick:t.label?function(){return e.setState({isFieldDelete:!0,showConfirmDeleteModal:!0,delete_field_id:t._id,delete_field_name:t.value,delete_field_index:a})}:function(){return e.handleCancelFieldClick(a)}},M("div",null,t.label?"Delete":"Cancel"))))}))))}}]),a}(y.Component),O={title_row:{borderBottom:"1px solid gray",padding:"1.5% 4%"},title_fontawesome:{color:"gray",marginRight:"3%",width:"26px",height:"26px",maxHeight:"26px",maxWidth:"26px"},title:{color:"gray"},card:{margin:"2%"},card_body:{},label:{fontSize:"".concat(C.a.form_label_fontsize)},error:{width:"100%",textAlign:"center",color:"#DC3545",fontSize:"14px"},accordin_fontawesome:{color:"".concat(C.a.admin_primry_color),marginRight:"10%",width:"15px",height:"15px",maxHeight:"15px",maxWidth:"15px"}};t.default=j}}]);