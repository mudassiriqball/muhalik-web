(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{QdS8:function(t,e,a){"use strict";a.r(e);var s=a("o0o1"),l=a.n(s),n=a("1OyB"),i=a("vuIU"),r=a("JX7q"),u=a("Ji7U"),o=a("md7G"),c=a("foSv"),d=a("rePB"),g=a("QojX"),h=a("zUrK"),v=a("cWnB"),m=a("T/rR"),p=a("JI6e"),f=(a("IP2g"),a("wHSu")),b=a("twK/"),y=a("q1tI"),k=a.n(y),C=a("VbX6"),w=a("bWZ2"),T=a("vDqi"),S=a.n(T),x=a("f6Jz"),R=a("qTQu"),L=a("/JS1"),q=a("vvUq"),j=k.a.createElement;function M(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,s=Object(c.a)(t);if(e){var l=Object(c.a)(this).constructor;a=Reflect.construct(s,arguments,l)}else a=s.apply(this,arguments);return Object(o.a)(this,a)}}var O=[],V=function(t){Object(u.a)(a,t);var e=M(a);function a(t){var s;return Object(n.a)(this,a),s=e.call(this,t),Object(d.a)(Object(r.a)(s),"handleTagRequestChange",(function(t,e){var a=[];(a=Object.assign([],s.state.tagRequestList))[e].value=t.target.value,""!=t.target.value&&t.target.value.length<=20&&t.target.value.length>=3?a[e].error="":a[e].error="Value must be 3-20 characters",s.setState({tagRequestList:a})})),Object(d.a)(Object(r.a)(s),"handleTagChange",(function(t,e){var a=[];(a=Object.assign([],s.state.tagList))[e].value=t.target.value,""!=t.target.value&&t.target.value.length<=20&&t.target.value.length>=3?a[e].error="":a[e].error="Value must be 3-20 characters",s.setState({tagList:a})})),Object(d.a)(Object(r.a)(s),"handleDeleteTagClick",(function(t){var e=[];e=Object.assign([],s.state.tagList),O.forEach((function(a,s){e[t].value==a.value&&O.splice(t,1)})),e.splice(t,1),s.setState({tagList:e,showModalMessage:"Product Tag Deleted",showModal:!0})})),s.state={isLoading:!1,showToast:!1,tagValue:"",error:"",tagList:[],tagRequestList:[],editRequestedTag:"",showModalMessage:"",showModal:!1,filterStr:""},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t,e;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=C.a.PATH+"/api/categories/tags",e=this,a.t0=l.a,a.t1=S.a,a.t2=t,a.next=7,l.a.awrap(Object(q.c)());case 7:return a.t3=a.sent,a.t4={authorization:a.t3},a.t5={headers:a.t4},a.t6=a.t1.get.call(a.t1,a.t2,a.t5).then((function(t){var a=[];(a=t.data.data.docs).forEach((function(t){t.label=!0})),e.setState({tagList:a}),e.setState({tagRequestList:a}),O=a})).catch((function(t){console.log("Tags_1 Fetchig Error: ",t)})),a.next=13,a.t0.awrap.call(a.t0,a.t6);case 13:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"addTag",value:function(t,e){var a,s;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=C.a.PATH+"/api/categories/tag",[],s={label:t,value:t},n.t0=l.a,n.t1=S.a,n.t2=a,n.t3={data:s},n.next=9,l.a.awrap(Object(q.c)());case 9:return n.t4=n.sent,n.t5={authorization:n.t4},n.t6={headers:n.t5},n.t7=n.t1.post.call(n.t1,n.t2,n.t3,n.t6).then((function(t){e.setState({isLoading:!1}),e.setState({showModalMessage:"Product Tag Added Successfully"}),e.setState({showModal:!0})})).catch((function(t){e.setState({isLoading:!1}),console.log("Error: ",t.response.data.message)})),n.next=15,n.t0.awrap.call(n.t0,n.t7);case 15:case"end":return n.stop()}}),null,null,null,Promise)}},{key:"handleFilterStrChange",value:function(t){if(this.setState({filterStr:t.target.value}),""==t.target.value)this.setState({tagList:O});else{var e=[];this.state.tagList.filter((function(a){a.value.includes(t.target.value)&&e.push(a)})),this.setState({tagList:e})}}},{key:"handleSubmit",value:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:""==this.state.tagValue?this.setState({error:"Enter Value First"}):(this.setState({isLoading:!0}),this.setState({error:""}),this.addTag(this.state.tagValue,this));case 1:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"handleEditTagRequestClick",value:function(t){var e,a;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=[],e=Object.assign([],this.state.tagRequestList),(a={}).value=e[t].value,a.label=!1,a.prevVal=e[t].value,a.error="",e[t]=a,s.next=10,l.a.awrap(this.setState({tagRequestList:e}));case 10:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"handleCancelTagRequestClick",value:function(t){var e=[];(e=Object.assign([],this.state.tagRequestList))[t].value=e[t].prevVal,e[t].label=!0,e[t].error="",this.setState({tagRequestList:e})}},{key:"handleUpdateTagRequestClick",value:function(t){var e=[];(e=Object.assign([],this.state.tagRequestList))[t].value==e[t].prevVal?(e[t].error="Enter Different Value",this.setState({tagRequestList:e})):""==e[t].error&&(e[t].label=!0,this.setState({tagRequestList:e,showModalMessage:"Product Tag Updated Successfully",showModal:!0}))}},{key:"handleAddTagRequestClick",value:function(t){var e=[];(e=Object.assign([],this.state.tagRequestList)).splice(t,1),this.setState({tagRequestList:e,showModalMessage:"Product Tag Added Successfully",showModal:!0}),this.addTag(e[t].value,this)}},{key:"handleDeleteTagRequestClick",value:function(t){var e=[];(e=Object.assign([],this.state.tagRequestList)).splice(t,1),this.setState({tagRequestList:e,showModalMessage:"Product Tag Deleted",showModal:!0})}},{key:"handleEditTagClick",value:function(t){var e,a;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=[],e=Object.assign([],this.state.tagList),(a={}).value=e[t].value,a.label=!1,a.prevVal=e[t].value,a.error="",e[t]=a,s.next=10,l.a.awrap(this.setState({tagList:e}));case 10:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"handleCancelTagClick",value:function(t){var e=[];(e=Object.assign([],this.state.tagList))[t].value=e[t].prevVal,e[t].error="",e[t].label=!0,this.setState({tagList:e})}},{key:"handleUpdateTagClick",value:function(t){var e=[];(e=Object.assign([],this.state.tagList))[t].value==e[t].prevVal?(e[t].error="Enter Different Value",this.setState({tagRequestList:e})):""==e[t].error&&(e[t].label=!0,O.forEach((function(a,s){e[t].prevVal==a.value&&(a.value=e[t].value)})),this.setState({tagList:e,showModalMessage:"Product Tag Updated Successfully",showModal:!0}))}},{key:"render",value:function(){var t=this;return j(k.a.Fragment,null,j(x.default,{onHide:function(e){return t.setState({showModal:!1})},show:this.state.showModal,header:"Success",message:this.state.showModalMessage,iconName:b.b,color:"#00b300"}),j(R.default,{icon:f.s,title:" Admin Dashboard / Product Tags"}),j(L.default,{title:"Add New Tag"},j(g.a.Group,null,j(h.a,null,j(g.a.Control,{type:"text",size:"sm",placeholder:"Enter Tag Value",name:"sku",value:this.state.tagValue,onChange:function(e){return t.setState({tagValue:e.target.value})},isInvalid:this.state.error}),j(g.a.Control.Feedback,{type:"invalid"},this.state.error))),j(g.a.Group,null,j(v.a,{type:"submit",size:"sm",onClick:this.handleSubmit.bind(this),disabled:this.state.isLoading,block:!0,style:z.submit_btn},this.state.isLoading?"Uploading":"Add Tag",this.state.isLoading?j(m.a,{animation:"grow",size:"sm"}):null))),j(L.default,{title:"Add Tag Requests"},this.state.tagRequestList.map((function(e,a){return j(g.a.Row,null,j(g.a.Group,{as:p.a,lg:2,md:2,sm:3,xs:12},j(g.a.Control,{type:"text",size:"sm",name:"sku",value:e.entry_date,disabled:!0})),j(g.a.Group,{as:p.a,lg:2,md:2,sm:3,xs:12},j(g.a.Control,{type:"text",size:"sm",name:"sku",value:e.entry_date,disabled:!0})),j("div",{className:"mr-auto"}),j(g.a.Group,{as:p.a,lg:4,md:4,sm:6,xs:12},j(h.a,null,j(g.a.Control,{type:"text",size:"sm",placeholder:"Enter Tag Value",name:"sku",value:e.value,onChange:function(e){return t.handleTagRequestChange(e,a)},isInvalid:e.error,disabled:e.label}),j(g.a.Control.Feedback,{type:"invalid"},e.error))),j("div",{className:"mr-auto"}),j(g.a.Group,{as:p.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},j(v.a,{type:"submit",variant:"outline-success",size:"sm",block:!0,style:z.submit_btn,onClick:function(){return e.label?t.handleEditTagRequestClick(a):t.handleUpdateTagRequestClick(a)}},j("div",null,e.label?"Edit":"Update"))),j(g.a.Group,{as:p.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},j(v.a,{type:"submit",variant:"outline-primary",size:"sm",block:!0,style:z.submit_btn,onClick:function(){e.label?t.handleAddTagRequestClick(a):t.handleCancelTagRequestClick(a)}},j("div",null,e.label?"Add":"Cancel"))),j("div",{className:"mr-auto"}),j(g.a.Group,{as:p.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},j(v.a,{type:"submit",variant:"outline-danger",size:"sm",block:!0,style:z.submit_btn,onClick:function(){return t.handleDeleteTagRequestClick(a)}},j("div",null,"Discard"))))}))),j(L.default,{title:"All Tags"},j(g.a.Row,{style:{margin:"0% 5%"}},j(g.a.Group,{as:p.a},j(h.a,null,j(g.a.Control,{type:"text",size:"sm",placeholder:"Enter Tag Value",name:"sku",value:this.state.filterStr,onChange:function(e){return t.handleFilterStrChange(e)}})))),j("hr",null),this.state.tagList.map((function(e,a){return j(g.a.Row,null,j(g.a.Group,{as:p.a,lg:2,md:2,sm:6,xs:12},j(g.a.Control,{type:"text",size:"sm",name:"sku",value:e.entry_date,disabled:!0})),j("div",{className:"mr-auto"}),j(g.a.Group,{as:p.a,lg:6,md:6,sm:6,xs:12},j(h.a,null,j(g.a.Control,{type:"text",size:"sm",placeholder:"Enter Tag Value",name:"sku",value:e.value,onChange:function(e){return t.handleTagChange(e,a)},disabled:e.label,isInvalid:e.error}),j(g.a.Control.Feedback,{type:"invalid"},e.error))),j("div",{className:"mr-auto"}),j(g.a.Group,{as:p.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},j(v.a,{type:"submit",variant:"outline-success",size:"sm",block:!0,style:z.submit_btn,onClick:e.label?function(){return t.handleEditTagClick(a)}:function(){return t.handleUpdateTagClick(a)}},j("div",null,e.label?"Edit":"Update"))),j("div",{className:"mr-auto"}),j(g.a.Group,{as:p.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},j(v.a,{type:"submit",variant:e.label?"outline-danger":"outline-primary",size:"sm",block:!0,style:z.submit_btn,onClick:e.label?function(){return t.handleDeleteTagClick(a)}:function(){return t.handleCancelTagClick(a)}},j("div",null,e.label?"Delete":"Cancel"))))}))))}}]),a}(y.Component),z={title_row:{borderBottom:"1px solid gray",padding:"1.5% 4%"},title_fontawesome:{color:"gray",marginRight:"3%",width:"26px",height:"26px",maxHeight:"26px",maxWidth:"26px"},title:{color:"gray"},card:{margin:"2%"},card_body:{},label:{fontSize:"".concat(w.a.form_label_fontsize)},error:{width:"100%",textAlign:"center",color:"#DC3545",fontSize:"14px"},accordin_fontawesome:{color:"".concat(w.a.admin_primry_color),marginRight:"10%",width:"15px",height:"15px",maxHeight:"15px",maxWidth:"15px"}};e.default=V}}]);