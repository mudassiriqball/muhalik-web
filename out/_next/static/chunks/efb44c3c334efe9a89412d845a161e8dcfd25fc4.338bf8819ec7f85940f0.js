(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{G7yv:function(e,t,a){"use strict";a.r(t);var s=a("o0o1"),r=a.n(s),o=a("1OyB"),i=a("vuIU"),n=a("JX7q"),l=a("Ji7U"),u=a("md7G"),c=a("foSv"),d=a("rePB"),g=a("MX0m"),h=a.n(g),y=a("QojX"),b=a("JI6e"),m=a("zUrK"),p=a("cWnB"),f=a("T/rR"),v=(a("IP2g"),a("wHSu")),C=a("twK/"),x=a("q1tI"),w=a.n(x),S=a("VbX6"),k=a("bWZ2"),_=a("vDqi"),L=a.n(_),j=a("f6Jz"),V=a("abLf"),E=a("qTQu"),z=a("/JS1"),M=a("vvUq"),O=w.a.createElement;function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,s=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;a=Reflect.construct(s,arguments,r)}else a=s.apply(this,arguments);return Object(u.a)(this,a)}}var R=[],D=function(e){Object(l.a)(a,e);var t=P(a);function a(e){var s;return Object(o.a)(this,a),s=t.call(this,e),Object(d.a)(Object(n.a)(s),"handleCategoryChange",(function(e,t){var a=[];(a=Object.assign([],s.state.categoriesList))[t].value=e.target.value,""!=e.target.value&&e.target.value.length<=20&&e.target.value.length>=3?a[t].error="":a[t].error="Value must be 3-20 characters",s.setState({categoriesList:a})})),Object(d.a)(Object(n.a)(s),"handleSubCategoryChange",(function(e,t){var a=[];(a=Object.assign([],s.state.subCategoriesList))[t].value=e.target.value,""!=e.target.value&&e.target.value.length<=20&&e.target.value.length>=3?a[t].error="":a[t].error="Value must be 3-20 characters",s.setState({subCategoriesList:a})})),s.state={isLoading:!1,showToast:!1,showConfirmDeleteModal:!1,delete_category_id:"",delete_category_name:"",index:"",categoryValue:"",subCategoryValue:"",categoryError:"",subCategoryError:"",categoriesList:[],subCategoriesList:[],categoryRequestList:[],editRequestedCategory:"",showModalMessage:"",showModal:!1,searchType:"Category",filterStr:""},s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=S.a.PATH+"/api/categories/categories",t=this,a.t0=r.a,a.t1=L.a,a.t2=e,a.next=7,r.a.awrap(Object(M.c)());case 7:return a.t3=a.sent,a.t4={authorization:a.t3},a.t5={headers:a.t4},a.t6=a.t1.get.call(a.t1,a.t2,a.t5).then((function(e){t.setState({categoriesList:e.data.category.docs,subCategoriesList:e.data.sub_category.docs}),R=e.data.category.docs})).catch((function(e){console.log("Caterories Fetchig Error: ",e)})),a.next=13,a.t0.awrap.call(a.t0,a.t6);case 13:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"addCategory",value:function(e){var t,a;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return[],t={category:{value:this.state.categoryValue,label:this.state.categoryValue},sub_category:{value:this.state.subCategoryValue,label:this.state.subCategoryValue}},a=S.a.PATH+"/api/categories/category",s.t0=r.a,s.t1=L.a,s.t2=a,s.t3={data:t},s.next=9,r.a.awrap(Object(M.c)());case 9:return s.t4=s.sent,s.t5={authorization:s.t4},s.t6={headers:s.t5},s.t7=s.t1.post.call(s.t1,s.t2,s.t3,s.t6).then((function(t){return e.setState({isLoading:!1}),e.setState({showModalMessage:"Product Category Added Successfully"}),e.setState({showModal:!0}),!0})).catch((function(t){e.setState({isLoading:!1});try{alert("Error: ",t.response.data.message)}catch(a){console.log("Request Failed:",t)}return!1})),s.next=15,s.t0.awrap.call(s.t0,s.t7);case 15:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"handleSubmit",value:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:""==this.state.categoryValue||""==this.state.subCategoryValue?(""==this.state.categoryValue&&this.setState({categoryError:"Enter Value First"}),""==this.state.subCategoryValue&&this.setState({subCategoryError:"Enter Value First"})):(this.setState({isLoading:!0}),this.addCategory(this));case 1:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"handleFilterStrChange",value:function(e){this.setState({filterStr:e.target.value});var t=[];if(""!=e.target.value){if("Category"==this.state.searchType)this.state.categoriesList.filter((function(a){a.value.toLowerCase().includes(e.target.value.toLowerCase())&&t.push(a)}));else{var a=this;this.state.subCategoriesList.filter((function(s){s.value.toLowerCase().includes(e.target.value.toLowerCase())&&a.state.categoriesList.filter((function(e){s.category_id==e._id&&t.push(e)}))}));var s=[];t.map((function(e){s.includes(e)||s.push(e)})),t=s}this.setState({categoriesList:t})}else this.setState({categoriesList:R})}},{key:"handleEditCategoryClick",value:function(e){var t,a;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=[],t=Object.assign([],this.state.categoriesList),(a={})._id=t[e]._id,a.value=t[e].value,a.label=!1,a.prevVal=t[e].value,a.error="",t[e]=a,s.next=11,r.a.awrap(this.setState({categoriesList:t}));case 11:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"handleCancelCategoryClick",value:function(e){var t=[];(t=Object.assign([],this.state.categoriesList))[e].value=t[e].prevVal,t[e].error="",t[e].label=!0,this.setState({categoriesList:t})}},{key:"handleUpdateCategoryClick",value:function(){var e,t,a,s,o;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e=[],t=this.state.index,(e=Object.assign([],this.state.categoriesList))[t].value!=e[t].prevVal){i.next=8;break}e[t].error="Enter Different Value",this.setState({categoryRequestList:e}),i.next=24;break;case 8:return a=this,[],s={category:{value:e[t].value,label:e[t].value}},o=S.a.PATH+"/api/categories/category/".concat(e[t]._id),i.t0=r.a,i.t1=L.a,i.t2=o,i.t3={data:s},i.next=18,r.a.awrap(Object(M.c)());case 18:return i.t4=i.sent,i.t5={authorization:i.t4},i.t6={headers:i.t5},i.t7=i.t1.put.call(i.t1,i.t2,i.t3,i.t6).then((function(s){e[t].label=e[t].value,e[t].prevVal=e[t].value,a.setState({categoriesList:e,showModalMessage:"Product Category Updated Successfully",showModal:!0}),R=e})).catch((function(e){try{alert("Error: ",e.response.data.message)}catch(t){alert("Category Update Failed"),console.log("Request Failed:",e)}})),i.next=24,i.t0.awrap.call(i.t0,i.t7);case 24:case"end":return i.stop()}}),null,this,null,Promise)}},{key:"handleEditSubCategoryClick",value:function(e){var t,a;return r.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=[],t=Object.assign([],this.state.subCategoriesList),(a={})._id=t[e]._id,a.category_id=t[e].category_id,a.value=t[e].value,a.label=!1,a.prevVal=t[e].value,a.error="",t[e]=a,s.next=12,r.a.awrap(this.setState({subCategoriesList:t}));case 12:case"end":return s.stop()}}),null,this,null,Promise)}},{key:"handleCancelSubCategoryClick",value:function(e){var t=[];(t=Object.assign([],this.state.subCategoriesList))[e].value=t[e].prevVal,t[e].error="",t[e].label=!0,this.setState({subCategoriesList:t})}},{key:"handleUpdateSubCategoryClick",value:function(e){var t,a,s,o;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=[],(t=Object.assign([],this.state.subCategoriesList))[e].value!=t[e].prevVal){i.next=7;break}t[e].error="Enter Different Value",this.setState({categoryRequestList:t}),i.next=23;break;case 7:return a=this,[],s={value:t[e].value,label:t[e].value,category_id:t[e].category_id},o=S.a.PATH+"/api/categories/sub-category/".concat(t[e]._id),i.t0=r.a,i.t1=L.a,i.t2=o,i.t3={data:s},i.next=17,r.a.awrap(Object(M.c)());case 17:return i.t4=i.sent,i.t5={authorization:i.t4},i.t6={headers:i.t5},i.t7=i.t1.put.call(i.t1,i.t2,i.t3,i.t6).then((function(s){t[e].label=t[e].value,t[e].prevVal=t[e].value,a.setState({subCategoriesList:t,showModalMessage:"Product Sub Category Updated Successfully",showModal:!0}),R=t})).catch((function(e){try{alert("Error: ",e.response.data.message)}catch(t){console.log("Request Failed:",e)}})),i.next=23,i.t0.awrap.call(i.t0,i.t7);case 23:case"end":return i.stop()}}),null,this,null,Promise)}},{key:"handleDeleteSubCategoryClick",value:function(){var e,t,a,s;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return this.setState({showConfirmDeleteModal:!1}),e=[],t=this.state.index,a=this,e=Object.assign([],this.state.subCategoriesList),s=S.a.PATH+"/api/categories/sub-category/".concat(e[t]._id),o.t0=r.a,o.t1=L.a,o.t2=s,o.next=11,r.a.awrap(Object(M.c)());case 11:return o.t3=o.sent,o.t4={authorization:o.t3},o.t5={headers:o.t4},o.t6=o.t1.delete.call(o.t1,o.t2,o.t5).then((function(s){e.splice(t,1),a.setState({subCategoriesList:e,showModalMessage:"Product Category Deleted",showModal:!0}),R=e})).catch((function(e){try{alert("Error: ",e.response.data.message)}catch(t){console.log("Request Failed:",e)}})),o.next=17,o.t0.awrap.call(o.t0,o.t6);case 17:case"end":return o.stop()}}),null,this,null,Promise)}},{key:"render",value:function(){var e=this;return O(w.a.Fragment,null,O(j.default,{onHide:function(t){return e.setState({showModal:!1})},show:this.state.showModal,header:"Success",message:this.state.showModalMessage,iconname:C.b,color:"#00b300"}),O(V.default,{onHide:function(){return e.setState({showConfirmDeleteModal:!1})},show:this.state.showConfirmDeleteModal,title:"Delete Sub Category",_id:this.state.delete_category_id,name:this.state.delete_category_name,confirm:this.handleDeleteSubCategoryClick.bind(this)}),O(E.default,{icon:v.r,title:" Admin Dashboard / Product Categories"}),O(z.default,{title:"Add New Category"},O(y.a.Row,null,O(y.a.Group,{as:b.a,lg:6,md:6,sm:6,xs:12},O(y.a.Label,{style:H.label},"Category"),O(m.a,null,O(y.a.Control,{type:"text",size:"sm",placeholder:"Enter Category Value",name:"sku",value:this.state.categoryValue,onChange:function(t){return e.setState({categoryValue:t.target.value,categoryError:""})},isInvalid:this.state.categoryError}),O(y.a.Control.Feedback,{type:"invalid"},this.state.categoryError))),O(y.a.Group,{as:b.a,lg:6,md:6,sm:6,xs:12},O(y.a.Label,{style:H.label},"Sub Category"),O(m.a,null,O(y.a.Control,{type:"text",size:"sm",placeholder:"Enter Category Value",name:"sku",value:this.state.subCategoryValue,onChange:function(t){return e.setState({subCategoryValue:t.target.value,subCategoryError:""})},isInvalid:this.state.subCategoryError}),O(y.a.Control.Feedback,{type:"invalid"},this.state.subCategoryError))),O(y.a.Group,{as:b.a},O(p.a,{type:"submit",size:"sm",onClick:this.handleSubmit.bind(this),disabled:this.state.isLoading,block:!0,style:H.submit_btn},this.state.isLoading?"Uploading":"Add Category",this.state.isLoading?O(f.a,{animation:"grow",size:"sm"}):null)))),O(z.default,{title:"All Categories"},O(y.a.Row,{style:{margin:"0% 5%"}},O(y.a.Group,{as:b.a},O(m.a,null,O(m.a.Prepend,null,O(y.a.Control,{as:"select",variant:"primary",size:"sm",value:this.state.searchType,onChange:function(t){return e.setState({searchType:t.target.value})}},O("option",{className:"jsx-2287855846"},"Category"),O("option",{className:"jsx-2287855846"},"Sub Category"))),O(y.a.Control,{type:"text",size:"sm",placeholder:"Search Here",name:"search",value:this.state.filterStr,onChange:function(t){return e.handleFilterStrChange(t)}})))),O("hr",{className:"jsx-2287855846"}),this.state.categoriesList&&this.state.categoriesList.map((function(t,a){return O("div",{key:a,className:"jsx-2287855846"},O(y.a.Row,null,O(y.a.Group,{as:b.a,lg:6,md:6,sm:8,xs:12},O(y.a.Control,{type:"text",size:"sm",name:"sku",value:t.value,disabled:t.label,onChange:function(t){return e.handleCategoryChange(t,a)},isInvalid:t.error}),O(y.a.Control.Feedback,{type:"invalid"},t.error)),O("div",{className:"jsx-2287855846 sm_xs_show mr-auto"}),O(y.a.Group,{as:b.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},O(p.a,{type:"submit",variant:t.label?"outline-primary":"outline-success",size:"sm",block:!0,style:H.submit_btn,onClick:t.label?function(){return e.handleEditCategoryClick(a)}:function(){return e.handleUpdateCategoryClick(a)},disabled:!t.label&&t.error},O("div",{className:"jsx-2287855846"},t.label?"Edit":"Update"))),O("div",{className:"jsx-2287855846 sm_xs_show mr-auto"}),O(y.a.Group,{as:b.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},O(p.a,{type:"submit",variant:t.label?"outline-danger":"outline-primary",size:"sm",block:!0,style:H.submit_btn,onClick:t.label?null:function(){return e.handleCancelCategoryClick(a)},disabled:!!t.label},O("div",{className:"jsx-2287855846"},t.label?"Delete":"Cancel")))),O("hr",{className:"jsx-2287855846 pb-0 pt-0 mt-0"}),O(y.a.Row,null,e.state.subCategoriesList.map((function(s,r){return t._id==s.category_id?O(b.a,{lg:6,md:6,sm:12,xs:12,key:s._id},O(y.a.Row,null,O(y.a.Group,{as:b.a,lg:"auto",md:"auto",sm:8,xs:12},O(y.a.Control,{type:"text",size:"sm",name:"sku",value:s.value,disabled:s.label,onChange:function(t){return e.handleSubCategoryChange(t,r)},isInvalid:s.error}),O(y.a.Control.Feedback,{type:"invalid"},s.error)),O("div",{className:"jsx-2287855846 mr-auto"}),O(y.a.Group,{as:b.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},O(p.a,{type:"submit",variant:s.label?"outline-primary":"outline-success",size:"sm",block:!0,style:H.submit_btn,onClick:s.label?function(){return e.handleEditSubCategoryClick(r)}:function(){return e.handleUpdateSubCategoryClick(r)},disabled:!s.label&&s.error},O("div",{className:"jsx-2287855846"},s.label?"Edit":"Update"))),O("div",{className:"jsx-2287855846 sm_xs_show mr-auto"}),O(y.a.Group,{as:b.a,lg:"auto",md:"auto",sm:"auto",xs:"auto"},O(p.a,{type:"submit",variant:s.label?"outline-danger":"outline-primary",size:"sm",block:!0,style:H.submit_btn,onClick:s.label?function(){return e.setState({showConfirmDeleteModal:!0,delete_category_id:s._id,delete_category_name:s.value,index:a})}:function(){return e.handleCancelSubCategoryClick(r)}},O("div",{className:"jsx-2287855846"},s.label?"Delete":"Cancel"))))):null}))),O("hr",{className:"jsx-2287855846 mb-0"}),O("hr",{className:"jsx-2287855846 pb-0 pt-0 mt-0"}))}))),O(h.a,{id:"2287855846"},["@media only screen and (min-width:768px){.sm_xs_show.jsx-2287855846{display:none;}}"]))}}]),a}(x.Component),H={title_row:{borderBottom:"1px solid gray",padding:"1.5% 4%"},title_fontawesome:{color:"gray",marginRight:"3%",width:"26px",height:"26px",maxHeight:"26px",maxWidth:"26px"},title:{color:"gray"},card:{margin:"2%"},card_body:{},label:{fontSize:"".concat(k.a.form_label_fontsize)},error:{width:"100%",textAlign:"center",color:"#DC3545",fontSize:"14px"},accordin_fontawesome:{color:"".concat(k.a.admin_primry_color),marginRight:"10%",width:"15px",height:"15px",maxHeight:"15px",maxWidth:"15px"}};t.default=D},abLf:function(e,t,a){"use strict";a.r(t);var s=a("q1tI"),r=a.n(s),o=a("zM5D"),i=a("QojX"),n=a("cWnB"),l=a("IP2g"),u=a("wHSu"),c=r.a.createElement;t.default=function(e){return c(o.a,{show:e.show,onHide:e.onHide,size:"md","aria-labelledby":"alert-modal",centered:!0},c("div",{style:{border:"1px solid #ff3333",borderRadius:"5px"}},c(o.a.Header,{closeButton:!0,style:{color:"#ff3333",borderBottom:"1px solid #ff3333"}},c(l.a,{icon:u.H,style:{color:"#ff3333",marginRight:"10px",width:"35px",height:"35px",maxHeight:"35px",maxWidth:"35px"}}),c(o.a.Title,{id:"alert-modal"},e.title)),c(o.a.Body,null,c(i.a.Label,{style:{fontSize:"14px",padding:"0%",margin:"0%"}},c("span",{style:{fontWeight:"bold"}}," Name: "),e.name),c("br",null),c(i.a.Label,{style:{fontSize:"14px",padding:"0%",margin:"0%"}},c("span",{style:{fontWeight:"bold"}}," ID: "),e._id)),c(o.a.Footer,null,c(n.a,{size:"sm",variant:"outline-danger",className:"mr-auto",onClick:e.confirm},"Confirm"),c(n.a,{size:"sm",variant:"outline-primary",onClick:e.onHide},"Cancel"))))}}}]);